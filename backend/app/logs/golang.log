2021-05-10 00:36:27,529 - WARNING - Invalid HTTP request received.
Traceback (most recent call last):
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 172, in handle_events
    event = self.conn.next_event()
  File "/opt/jupyter/lib/python3.8/site-packages/h11/_connection.py", line 443, in next_event
    exc._reraise_as_remote_protocol_error()
  File "/opt/jupyter/lib/python3.8/site-packages/h11/_util.py", line 76, in _reraise_as_remote_protocol_error
    raise self
  File "/opt/jupyter/lib/python3.8/site-packages/h11/_connection.py", line 425, in next_event
    event = self._extract_next_receive_event()
  File "/opt/jupyter/lib/python3.8/site-packages/h11/_connection.py", line 367, in _extract_next_receive_event
    event = self._reader(self._receive_buffer)
  File "/opt/jupyter/lib/python3.8/site-packages/h11/_readers.py", line 75, in maybe_read_from_IDLE_client
    return Request(
  File "/opt/jupyter/lib/python3.8/site-packages/h11/_events.py", line 71, in __init__
    self._validate()
  File "/opt/jupyter/lib/python3.8/site-packages/h11/_events.py", line 140, in _validate
    raise LocalProtocolError("Missing mandatory Host: header")
h11._util.RemoteProtocolError: Missing mandatory Host: header
2021-05-10 00:36:42,842 - WARNING - Invalid HTTP request received.
Traceback (most recent call last):
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 172, in handle_events
    event = self.conn.next_event()
  File "/opt/jupyter/lib/python3.8/site-packages/h11/_connection.py", line 443, in next_event
    exc._reraise_as_remote_protocol_error()
  File "/opt/jupyter/lib/python3.8/site-packages/h11/_util.py", line 76, in _reraise_as_remote_protocol_error
    raise self
  File "/opt/jupyter/lib/python3.8/site-packages/h11/_connection.py", line 425, in next_event
    event = self._extract_next_receive_event()
  File "/opt/jupyter/lib/python3.8/site-packages/h11/_connection.py", line 367, in _extract_next_receive_event
    event = self._reader(self._receive_buffer)
  File "/opt/jupyter/lib/python3.8/site-packages/h11/_readers.py", line 75, in maybe_read_from_IDLE_client
    return Request(
  File "/opt/jupyter/lib/python3.8/site-packages/h11/_events.py", line 71, in __init__
    self._validate()
  File "/opt/jupyter/lib/python3.8/site-packages/h11/_events.py", line 140, in _validate
    raise LocalProtocolError("Missing mandatory Host: header")
h11._util.RemoteProtocolError: Missing mandatory Host: header
2021-05-10 02:02:28,795 - INFO - Shutting down
2021-05-10 02:02:28,896 - INFO - Waiting for application shutdown.
2021-05-10 02:02:28,897 - INFO - Application shutdown complete.
2021-05-10 02:02:28,897 - INFO - Finished server process [10548]
2021-05-10 02:02:29,796 - INFO - Started server process [18996]
2021-05-10 02:02:29,796 - INFO - Waiting for application startup.
2021-05-10 02:02:29,796 - INFO - Application startup complete.
2021-05-10 02:02:29,797 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-05-10 02:08:00,118 - INFO - Shutting down
2021-05-10 02:08:00,219 - INFO - Waiting for application shutdown.
2021-05-10 02:08:00,219 - INFO - Application shutdown complete.
2021-05-10 02:08:00,219 - INFO - Finished server process [18996]
2021-05-10 02:08:00,923 - INFO - Started server process [19066]
2021-05-10 02:08:00,923 - INFO - Waiting for application startup.
2021-05-10 02:08:00,923 - INFO - Application startup complete.
2021-05-10 02:08:00,924 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-05-10 02:09:00,778 - INFO - BEGIN (implicit)
2021-05-10 02:09:00,786 - INFO - SELECT anon_1.document_id AS anon_1_document_id, anon_1.document_name AS anon_1_document_name, anon_1.document_url AS anon_1_document_url, anon_1.document_export_date AS anon_1_document_export_date, anon_1.document_create_date AS anon_1_document_create_date, anon_1.document_update_date AS anon_1_document_update_date, anon_1.document_type_id AS anon_1_document_type_id, anon_1.document_status_id AS anon_1_document_status_id, document_split_1.id AS document_split_1_id, document_split_1.name AS document_split_1_name, document_split_1.value AS document_split_1_value, document_split_1.is_extracted AS document_split_1_is_extracted, document_split_1.url AS document_split_1_url, document_split_1.create_date AS document_split_1_create_date, document_split_1.update_date AS document_split_1_update_date, document_split_1.type_id AS document_split_1_type_id, document_split_1.document_id AS document_split_1_document_id, document_split_1.field_id AS document_split_1_field_id 
FROM (SELECT document.id AS document_id, document.name AS document_name, document.url AS document_url, document.export_date AS document_export_date, document.create_date AS document_create_date, document.update_date AS document_update_date, document.type_id AS document_type_id, document.status_id AS document_status_id 
FROM document 
WHERE document.type_id = %(type_id_1)s AND document.status_id = %(status_id_1)s ORDER BY document.update_date DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s) AS anon_1 LEFT OUTER JOIN document_split AS document_split_1 ON anon_1.document_id = document_split_1.document_id ORDER BY anon_1.document_update_date DESC
2021-05-10 02:09:00,786 - INFO - [generated in 0.00061s] {'type_id_1': 1, 'status_id_1': 2, 'param_1': 100, 'param_2': 0}
2021-05-10 02:09:00,792 - INFO - ROLLBACK
2021-05-10 02:16:25,954 - INFO - Shutting down
2021-05-10 02:16:26,055 - INFO - Waiting for application shutdown.
2021-05-10 02:16:26,055 - INFO - Application shutdown complete.
2021-05-10 02:16:26,055 - INFO - Finished server process [19066]
2021-05-10 02:21:37,311 - INFO - Started server process [19153]
2021-05-10 02:21:37,311 - INFO - Waiting for application startup.
2021-05-10 02:21:37,311 - INFO - Application startup complete.
2021-05-10 02:21:37,312 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-05-10 02:28:16,536 - INFO - Shutting down
2021-05-10 02:28:16,637 - INFO - Waiting for application shutdown.
2021-05-10 02:28:16,637 - INFO - Application shutdown complete.
2021-05-10 02:28:16,637 - INFO - Finished server process [19153]
2021-05-10 02:28:17,207 - INFO - Started server process [19191]
2021-05-10 02:28:17,208 - INFO - Waiting for application startup.
2021-05-10 02:28:17,208 - INFO - Application startup complete.
2021-05-10 02:28:17,208 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-05-10 02:28:25,580 - INFO - BEGIN (implicit)
2021-05-10 02:28:25,585 - INFO - SELECT count(*) AS count_1 
FROM (SELECT document.id AS document_id, document.name AS document_name, document.url AS document_url, document.export_date AS document_export_date, document.create_date AS document_create_date, document.update_date AS document_update_date, document.type_id AS document_type_id, document.status_id AS document_status_id 
FROM document 
WHERE document.status_id = %(status_id_1)s) AS anon_1
2021-05-10 02:28:25,585 - INFO - [generated in 0.00027s] {'status_id_1': 1}
2021-05-10 02:28:25,589 - INFO - SELECT count(*) AS count_1 
FROM (SELECT document.id AS document_id, document.name AS document_name, document.url AS document_url, document.export_date AS document_export_date, document.create_date AS document_create_date, document.update_date AS document_update_date, document.type_id AS document_type_id, document.status_id AS document_status_id 
FROM document 
WHERE document.type_id = %(type_id_1)s AND document.status_id = %(status_id_1)s) AS anon_1
2021-05-10 02:28:25,589 - INFO - [generated in 0.00028s] {'type_id_1': 1, 'status_id_1': 1}
2021-05-10 02:28:25,591 - INFO - SELECT count(*) AS count_1 
FROM (SELECT document.id AS document_id, document.name AS document_name, document.url AS document_url, document.export_date AS document_export_date, document.create_date AS document_create_date, document.update_date AS document_update_date, document.type_id AS document_type_id, document.status_id AS document_status_id 
FROM document 
WHERE document.type_id = %(type_id_1)s AND document.status_id = %(status_id_1)s) AS anon_1
2021-05-10 02:28:25,591 - INFO - [cached since 0.002212s ago] {'type_id_1': 1, 'status_id_1': 5}
2021-05-10 02:28:25,593 - INFO - SELECT count(*) AS count_1 
FROM (SELECT document.id AS document_id, document.name AS document_name, document.url AS document_url, document.export_date AS document_export_date, document.create_date AS document_create_date, document.update_date AS document_update_date, document.type_id AS document_type_id, document.status_id AS document_status_id 
FROM document 
WHERE document.type_id = %(type_id_1)s AND document.status_id = %(status_id_1)s) AS anon_1
2021-05-10 02:28:25,593 - INFO - [cached since 0.003906s ago] {'type_id_1': 2, 'status_id_1': 1}
2021-05-10 02:28:25,594 - INFO - SELECT count(*) AS count_1 
FROM (SELECT document.id AS document_id, document.name AS document_name, document.url AS document_url, document.export_date AS document_export_date, document.create_date AS document_create_date, document.update_date AS document_update_date, document.type_id AS document_type_id, document.status_id AS document_status_id 
FROM document 
WHERE document.type_id = %(type_id_1)s AND document.status_id = %(status_id_1)s) AS anon_1
2021-05-10 02:28:25,594 - INFO - [cached since 0.005267s ago] {'type_id_1': 2, 'status_id_1': 5}
2021-05-10 02:28:25,596 - INFO - SELECT count(*) AS count_1 
FROM (SELECT document.id AS document_id, document.name AS document_name, document.url AS document_url, document.export_date AS document_export_date, document.create_date AS document_create_date, document.update_date AS document_update_date, document.type_id AS document_type_id, document.status_id AS document_status_id 
FROM document 
WHERE document.type_id = %(type_id_1)s AND document.status_id = %(status_id_1)s) AS anon_1
2021-05-10 02:28:25,596 - INFO - [cached since 0.006516s ago] {'type_id_1': 1, 'status_id_1': 2}
2021-05-10 02:28:25,597 - INFO - SELECT count(*) AS count_1 
FROM (SELECT document.id AS document_id, document.name AS document_name, document.url AS document_url, document.export_date AS document_export_date, document.create_date AS document_create_date, document.update_date AS document_update_date, document.type_id AS document_type_id, document.status_id AS document_status_id 
FROM document 
WHERE document.type_id = %(type_id_1)s AND document.status_id = %(status_id_1)s) AS anon_1
2021-05-10 02:28:25,597 - INFO - [cached since 0.007822s ago] {'type_id_1': 2, 'status_id_1': 2}
2021-05-10 02:28:25,598 - INFO - SELECT count(*) AS count_1 
FROM (SELECT document.id AS document_id, document.name AS document_name, document.url AS document_url, document.export_date AS document_export_date, document.create_date AS document_create_date, document.update_date AS document_update_date, document.type_id AS document_type_id, document.status_id AS document_status_id 
FROM document 
WHERE document.type_id = %(type_id_1)s AND document.status_id = %(status_id_1)s) AS anon_1
2021-05-10 02:28:25,598 - INFO - [cached since 0.009057s ago] {'type_id_1': 1, 'status_id_1': 3}
2021-05-10 02:28:25,599 - INFO - SELECT count(*) AS count_1 
FROM (SELECT document.id AS document_id, document.name AS document_name, document.url AS document_url, document.export_date AS document_export_date, document.create_date AS document_create_date, document.update_date AS document_update_date, document.type_id AS document_type_id, document.status_id AS document_status_id 
FROM document 
WHERE document.type_id = %(type_id_1)s AND document.status_id = %(status_id_1)s) AS anon_1
2021-05-10 02:28:25,599 - INFO - [cached since 0.01027s ago] {'type_id_1': 2, 'status_id_1': 3}
2021-05-10 02:28:25,600 - INFO - SELECT count(*) AS count_1 
FROM (SELECT document.id AS document_id, document.name AS document_name, document.url AS document_url, document.export_date AS document_export_date, document.create_date AS document_create_date, document.update_date AS document_update_date, document.type_id AS document_type_id, document.status_id AS document_status_id 
FROM document 
WHERE document.type_id = %(type_id_1)s AND document.status_id = %(status_id_1)s) AS anon_1
2021-05-10 02:28:25,601 - INFO - [cached since 0.0114s ago] {'type_id_1': 1, 'status_id_1': 4}
2021-05-10 02:28:25,602 - INFO - SELECT count(*) AS count_1 
FROM (SELECT document.id AS document_id, document.name AS document_name, document.url AS document_url, document.export_date AS document_export_date, document.create_date AS document_create_date, document.update_date AS document_update_date, document.type_id AS document_type_id, document.status_id AS document_status_id 
FROM document 
WHERE document.type_id = %(type_id_1)s AND document.status_id = %(status_id_1)s) AS anon_1
2021-05-10 02:28:25,602 - INFO - [cached since 0.01275s ago] {'type_id_1': 2, 'status_id_1': 4}
2021-05-10 02:28:25,603 - INFO - ROLLBACK
2021-05-10 02:29:31,749 - INFO - Shutting down
2021-05-10 02:29:31,850 - INFO - Waiting for application shutdown.
2021-05-10 02:29:31,851 - INFO - Application shutdown complete.
2021-05-10 02:29:31,851 - INFO - Finished server process [19191]
2021-05-10 02:29:32,480 - INFO - Started server process [19204]
2021-05-10 02:29:32,480 - INFO - Waiting for application startup.
2021-05-10 02:29:32,481 - INFO - Application startup complete.
2021-05-10 02:29:32,481 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-05-10 02:32:30,054 - INFO - Shutting down
2021-05-10 02:32:30,155 - INFO - Waiting for application shutdown.
2021-05-10 02:32:30,155 - INFO - Application shutdown complete.
2021-05-10 02:32:30,155 - INFO - Finished server process [19204]
2021-05-10 02:33:25,905 - INFO - Started server process [19245]
2021-05-10 02:33:25,905 - INFO - Waiting for application startup.
2021-05-10 02:33:25,906 - INFO - Application startup complete.
2021-05-10 02:33:25,906 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-05-10 03:09:00,477 - INFO - Shutting down
2021-05-10 03:09:00,577 - INFO - Waiting for application shutdown.
2021-05-10 03:09:00,578 - INFO - Application shutdown complete.
2021-05-10 03:09:00,578 - INFO - Finished server process [19245]
2021-05-10 03:10:25,939 - INFO - Started server process [19396]
2021-05-10 03:10:25,939 - INFO - Waiting for application startup.
2021-05-10 03:10:25,940 - INFO - Application startup complete.
2021-05-10 03:10:25,940 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-05-10 03:11:47,124 - INFO - Shutting down
2021-05-10 03:11:47,225 - INFO - Waiting for application shutdown.
2021-05-10 03:11:47,225 - INFO - Application shutdown complete.
2021-05-10 03:11:47,225 - INFO - Finished server process [19396]
2021-05-10 03:11:47,785 - INFO - Started server process [19407]
2021-05-10 03:11:47,786 - INFO - Waiting for application startup.
2021-05-10 03:11:47,786 - INFO - Application startup complete.
2021-05-10 03:11:47,786 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-05-10 03:12:37,004 - INFO - BEGIN (implicit)
2021-05-10 03:12:37,007 - INFO - SELECT document.id AS document_id, document.name AS document_name, document.url AS document_url, document.export_date AS document_export_date, document.create_date AS document_create_date, document.update_date AS document_update_date, document.type_id AS document_type_id, document.status_id AS document_status_id 
FROM document 
WHERE document.type_id = %(type_id_1)s AND document.status_id = %(status_id_1)s ORDER BY document.update_date DESC 
 LIMIT %(param_1)s
2021-05-10 03:12:37,007 - INFO - [generated in 0.00026s] {'type_id_1': 1, 'status_id_1': 2, 'param_1': 1}
2021-05-10 03:12:37,011 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/opt/jupyter/lib/python3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 48, in db_session_middleware
    response = await call_next(request)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/opt/jupyter/lib/python3.8/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/opt/jupyter/lib/python3.8/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/opt/anaconda3/lib/python3.8/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pot/project/web-service/backend/app/api/resources/show_v1.py", line 22, in split_last
    return list_split
  File "/home/pot/project/web-service/backend/app/databases/repository_logic/document_split_logic.py", line 12, in get_all_by_doc
    return db_session.query(DocumentSplit) \
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 2699, in all
    return self._iter().all()
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 2834, in _iter
    result = self.session.execute(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1675, in execute
    result = conn._execute_20(statement, params or {}, execution_options)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1578, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 320, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1439, in _execute_clauseelement
    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 542, in _compile_w_cache
    compiled_sql = self._compiler(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 577, in _compiler
    return dialect.statement_compiler(dialect, self, **kw)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/compiler.py", line 766, in __init__
    Compiled.__init__(self, dialect, statement, **kwargs)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/compiler.py", line 455, in __init__
    self.string = self.process(self.statement, **compile_kwargs)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/compiler.py", line 490, in process
    return obj._compiler_dispatch(self, **kwargs)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/visitors.py", line 81, in _compiler_dispatch
    return meth(self, **kw)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/compiler.py", line 3019, in visit_select
    compile_state = select_stmt._compile_state_factory(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/base.py", line 502, in create_for_statement
    return klass.create_for_statement(statement, compiler, **kw)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/context.py", line 579, in create_for_statement
    opt.process_compile_state(self)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/strategy_options.py", line 185, in process_compile_state
    self._process(compile_state, not bool(compile_state.current_path))
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/strategy_options.py", line 711, in _process
    val._bind_loader(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/strategy_options.py", line 895, in _bind_loader
    if not loader._generate_path(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/strategy_options.py", line 257, in _generate_path
    util.raise_(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 211, in raise_
    raise exception
sqlalchemy.exc.ArgumentError: Can't find property named "document_field" on mapped class DocumentSplit->document_split in this Query.
2021-05-10 03:14:45,450 - INFO - Shutting down
2021-05-10 03:14:45,551 - INFO - Waiting for application shutdown.
2021-05-10 03:14:45,551 - INFO - Application shutdown complete.
2021-05-10 03:14:45,551 - INFO - Finished server process [19407]
2021-05-10 03:14:46,157 - INFO - Started server process [19426]
2021-05-10 03:14:46,157 - INFO - Waiting for application startup.
2021-05-10 03:14:46,158 - INFO - Application startup complete.
2021-05-10 03:14:46,158 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-05-10 03:16:23,770 - INFO - Shutting down
2021-05-10 03:16:23,871 - INFO - Waiting for application shutdown.
2021-05-10 03:16:23,871 - INFO - Application shutdown complete.
2021-05-10 03:16:23,872 - INFO - Finished server process [19426]
2021-05-10 03:16:24,397 - INFO - Started server process [19441]
2021-05-10 03:16:24,398 - INFO - Waiting for application startup.
2021-05-10 03:16:24,398 - INFO - Application startup complete.
2021-05-10 03:16:24,398 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-05-10 03:16:43,460 - INFO - Shutting down
2021-05-10 03:16:43,568 - INFO - Waiting for application shutdown.
2021-05-10 03:16:43,568 - INFO - Application shutdown complete.
2021-05-10 03:16:43,569 - INFO - Finished server process [19441]
2021-05-10 03:16:44,292 - INFO - Started server process [19448]
2021-05-10 03:16:44,293 - INFO - Waiting for application startup.
2021-05-10 03:16:44,293 - INFO - Application startup complete.
2021-05-10 03:16:44,294 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-05-10 03:16:45,569 - INFO - BEGIN (implicit)
2021-05-10 03:16:45,573 - INFO - SELECT document.id AS document_id, document.name AS document_name, document.url AS document_url, document.export_date AS document_export_date, document.create_date AS document_create_date, document.update_date AS document_update_date, document.type_id AS document_type_id, document.status_id AS document_status_id 
FROM document 
WHERE document.type_id = %(type_id_1)s AND document.status_id = %(status_id_1)s ORDER BY document.update_date DESC 
 LIMIT %(param_1)s
2021-05-10 03:16:45,573 - INFO - [generated in 0.00030s] {'type_id_1': 1, 'status_id_1': 2, 'param_1': 1}
2021-05-10 03:16:45,576 - INFO - ROLLBACK
2021-05-10 03:17:30,705 - INFO - Shutting down
2021-05-10 03:17:30,822 - INFO - Waiting for application shutdown.
2021-05-10 03:17:30,822 - INFO - Application shutdown complete.
2021-05-10 03:17:30,823 - INFO - Finished server process [19448]
2021-05-10 03:17:31,382 - INFO - Started server process [19460]
2021-05-10 03:17:31,382 - INFO - Waiting for application startup.
2021-05-10 03:17:31,383 - INFO - Application startup complete.
2021-05-10 03:17:31,383 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-05-10 03:17:34,173 - INFO - BEGIN (implicit)
2021-05-10 03:17:34,183 - INFO - SELECT anon_1.document_id AS anon_1_document_id, anon_1.document_name AS anon_1_document_name, anon_1.document_url AS anon_1_document_url, anon_1.document_export_date AS anon_1_document_export_date, anon_1.document_create_date AS anon_1_document_create_date, anon_1.document_update_date AS anon_1_document_update_date, anon_1.document_type_id AS anon_1_document_type_id, anon_1.document_status_id AS anon_1_document_status_id, document_split_1.id AS document_split_1_id, document_split_1.name AS document_split_1_name, document_split_1.value AS document_split_1_value, document_split_1.is_extracted AS document_split_1_is_extracted, document_split_1.url AS document_split_1_url, document_split_1.create_date AS document_split_1_create_date, document_split_1.update_date AS document_split_1_update_date, document_split_1.type_id AS document_split_1_type_id, document_split_1.document_id AS document_split_1_document_id, document_split_1.field_id AS document_split_1_field_id 
FROM (SELECT document.id AS document_id, document.name AS document_name, document.url AS document_url, document.export_date AS document_export_date, document.create_date AS document_create_date, document.update_date AS document_update_date, document.type_id AS document_type_id, document.status_id AS document_status_id 
FROM document 
WHERE document.type_id = %(type_id_1)s AND document.status_id = %(status_id_1)s ORDER BY document.update_date DESC 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN document_split AS document_split_1 ON anon_1.document_id = document_split_1.document_id ORDER BY anon_1.document_update_date DESC
2021-05-10 03:17:34,183 - INFO - [generated in 0.00039s] {'type_id_1': 1, 'status_id_1': 2, 'param_1': 1}
2021-05-10 03:17:34,189 - INFO - ROLLBACK
2021-05-10 03:19:32,850 - INFO - Shutting down
2021-05-10 03:19:32,951 - INFO - Waiting for application shutdown.
2021-05-10 03:19:32,951 - INFO - Application shutdown complete.
2021-05-10 03:19:32,952 - INFO - Finished server process [19460]
2021-05-10 03:19:33,536 - INFO - Started server process [19471]
2021-05-10 03:19:33,536 - INFO - Waiting for application startup.
2021-05-10 03:19:33,537 - INFO - Application startup complete.
2021-05-10 03:19:33,537 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-05-10 03:19:35,879 - INFO - BEGIN (implicit)
2021-05-10 03:19:35,882 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/opt/jupyter/lib/python3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 48, in db_session_middleware
    response = await call_next(request)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/opt/jupyter/lib/python3.8/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/opt/jupyter/lib/python3.8/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/opt/anaconda3/lib/python3.8/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pot/project/web-service/backend/app/api/resources/show_v1.py", line 20, in split_last
    last_doc = document_logic.get_one_last_type_status(db_session, 1, 2)
  File "/home/pot/project/web-service/backend/app/databases/repository_logic/document_logic.py", line 30, in get_one_last_type_status
    return db_session.query(Document) \
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 2750, in first
    return self.limit(1)._iter().first()
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 2834, in _iter
    result = self.session.execute(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1675, in execute
    result = conn._execute_20(statement, params or {}, execution_options)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1578, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 320, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1439, in _execute_clauseelement
    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 542, in _compile_w_cache
    compiled_sql = self._compiler(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 577, in _compiler
    return dialect.statement_compiler(dialect, self, **kw)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/compiler.py", line 766, in __init__
    Compiled.__init__(self, dialect, statement, **kwargs)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/compiler.py", line 455, in __init__
    self.string = self.process(self.statement, **compile_kwargs)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/compiler.py", line 490, in process
    return obj._compiler_dispatch(self, **kwargs)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/visitors.py", line 81, in _compiler_dispatch
    return meth(self, **kw)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/compiler.py", line 3019, in visit_select
    compile_state = select_stmt._compile_state_factory(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/base.py", line 502, in create_for_statement
    return klass.create_for_statement(statement, compiler, **kw)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/context.py", line 579, in create_for_statement
    opt.process_compile_state(self)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/strategy_options.py", line 185, in process_compile_state
    self._process(compile_state, not bool(compile_state.current_path))
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/strategy_options.py", line 711, in _process
    val._bind_loader(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/strategy_options.py", line 895, in _bind_loader
    if not loader._generate_path(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/strategy_options.py", line 257, in _generate_path
    util.raise_(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 211, in raise_
    raise exception
sqlalchemy.exc.ArgumentError: Can't find property named "document_field" on mapped class Document->document in this Query.
2021-05-10 03:20:05,393 - INFO - Shutting down
2021-05-10 03:20:05,494 - INFO - Waiting for application shutdown.
2021-05-10 03:20:05,494 - INFO - Application shutdown complete.
2021-05-10 03:20:05,495 - INFO - Finished server process [19471]
2021-05-10 03:20:06,140 - INFO - Started server process [19488]
2021-05-10 03:20:06,141 - INFO - Waiting for application startup.
2021-05-10 03:20:06,141 - INFO - Application startup complete.
2021-05-10 03:20:06,142 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-05-10 03:20:07,646 - INFO - BEGIN (implicit)
2021-05-10 03:20:07,649 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/opt/jupyter/lib/python3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 48, in db_session_middleware
    response = await call_next(request)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/opt/jupyter/lib/python3.8/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/opt/jupyter/lib/python3.8/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/opt/anaconda3/lib/python3.8/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pot/project/web-service/backend/app/api/resources/show_v1.py", line 20, in split_last
    last_doc = document_logic.get_one_last_type_status(db_session, 1, 2)
  File "/home/pot/project/web-service/backend/app/databases/repository_logic/document_logic.py", line 30, in get_one_last_type_status
    return db_session.query(Document) \
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 2750, in first
    return self.limit(1)._iter().first()
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 2834, in _iter
    result = self.session.execute(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1675, in execute
    result = conn._execute_20(statement, params or {}, execution_options)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1578, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 320, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1439, in _execute_clauseelement
    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 542, in _compile_w_cache
    compiled_sql = self._compiler(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 577, in _compiler
    return dialect.statement_compiler(dialect, self, **kw)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/compiler.py", line 766, in __init__
    Compiled.__init__(self, dialect, statement, **kwargs)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/compiler.py", line 455, in __init__
    self.string = self.process(self.statement, **compile_kwargs)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/compiler.py", line 490, in process
    return obj._compiler_dispatch(self, **kwargs)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/visitors.py", line 81, in _compiler_dispatch
    return meth(self, **kw)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/compiler.py", line 3019, in visit_select
    compile_state = select_stmt._compile_state_factory(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/base.py", line 502, in create_for_statement
    return klass.create_for_statement(statement, compiler, **kw)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/context.py", line 579, in create_for_statement
    opt.process_compile_state(self)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/strategy_options.py", line 185, in process_compile_state
    self._process(compile_state, not bool(compile_state.current_path))
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/strategy_options.py", line 711, in _process
    val._bind_loader(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/strategy_options.py", line 895, in _bind_loader
    if not loader._generate_path(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/strategy_options.py", line 257, in _generate_path
    util.raise_(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 211, in raise_
    raise exception
sqlalchemy.exc.ArgumentError: Can't find property named "document_field" on mapped class Document->document in this Query.
2021-05-10 03:22:10,759 - INFO - Shutting down
2021-05-10 03:22:10,859 - INFO - Waiting for application shutdown.
2021-05-10 03:22:10,860 - INFO - Application shutdown complete.
2021-05-10 03:22:10,860 - INFO - Finished server process [19488]
2021-05-10 03:22:31,745 - INFO - Started server process [19512]
2021-05-10 03:22:31,745 - INFO - Waiting for application startup.
2021-05-10 03:22:31,746 - INFO - Application startup complete.
2021-05-10 03:22:31,746 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-05-10 03:22:35,846 - INFO - BEGIN (implicit)
2021-05-10 03:22:35,849 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/opt/jupyter/lib/python3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 48, in db_session_middleware
    response = await call_next(request)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/opt/jupyter/lib/python3.8/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/opt/jupyter/lib/python3.8/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/opt/anaconda3/lib/python3.8/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pot/project/web-service/backend/app/api/resources/show_v1.py", line 20, in split_last
    last_doc = document_logic.get_one_last_type_status(db_session, 1, 2)
  File "/home/pot/project/web-service/backend/app/databases/repository_logic/document_logic.py", line 30, in get_one_last_type_status
    return db_session.query(Document) \
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 2750, in first
    return self.limit(1)._iter().first()
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 2834, in _iter
    result = self.session.execute(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1675, in execute
    result = conn._execute_20(statement, params or {}, execution_options)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1578, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 320, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1439, in _execute_clauseelement
    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 542, in _compile_w_cache
    compiled_sql = self._compiler(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 577, in _compiler
    return dialect.statement_compiler(dialect, self, **kw)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/compiler.py", line 766, in __init__
    Compiled.__init__(self, dialect, statement, **kwargs)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/compiler.py", line 455, in __init__
    self.string = self.process(self.statement, **compile_kwargs)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/compiler.py", line 490, in process
    return obj._compiler_dispatch(self, **kwargs)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/visitors.py", line 81, in _compiler_dispatch
    return meth(self, **kw)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/compiler.py", line 3019, in visit_select
    compile_state = select_stmt._compile_state_factory(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/base.py", line 502, in create_for_statement
    return klass.create_for_statement(statement, compiler, **kw)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/context.py", line 601, in create_for_statement
    self._setup_for_generate()
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/context.py", line 620, in _setup_for_generate
    self._legacy_join(query._legacy_setup_joins)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/context.py", line 1418, in _legacy_join
    util.raise_(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 211, in raise_
    raise exception
sqlalchemy.exc.ArgumentError: Join target DocumentField.id does not refer to a mapped entity
2021-05-10 03:23:54,482 - INFO - Shutting down
2021-05-10 03:23:54,583 - INFO - Waiting for application shutdown.
2021-05-10 03:23:54,583 - INFO - Application shutdown complete.
2021-05-10 03:23:54,583 - INFO - Finished server process [19512]
2021-05-10 03:23:55,235 - INFO - Started server process [19529]
2021-05-10 03:23:55,235 - INFO - Waiting for application startup.
2021-05-10 03:23:55,235 - INFO - Application startup complete.
2021-05-10 03:23:55,236 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-05-10 03:23:57,235 - INFO - BEGIN (implicit)
2021-05-10 03:23:57,239 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/opt/jupyter/lib/python3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 48, in db_session_middleware
    response = await call_next(request)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/opt/jupyter/lib/python3.8/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/opt/jupyter/lib/python3.8/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/opt/anaconda3/lib/python3.8/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pot/project/web-service/backend/app/api/resources/show_v1.py", line 20, in split_last
    last_doc = document_logic.get_one_last_type_status(db_session, 1, 2)
  File "/home/pot/project/web-service/backend/app/databases/repository_logic/document_logic.py", line 30, in get_one_last_type_status
    return db_session.query(Document) \
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 2750, in first
    return self.limit(1)._iter().first()
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 2834, in _iter
    result = self.session.execute(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1675, in execute
    result = conn._execute_20(statement, params or {}, execution_options)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1578, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 320, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1439, in _execute_clauseelement
    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 542, in _compile_w_cache
    compiled_sql = self._compiler(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 577, in _compiler
    return dialect.statement_compiler(dialect, self, **kw)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/compiler.py", line 766, in __init__
    Compiled.__init__(self, dialect, statement, **kwargs)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/compiler.py", line 455, in __init__
    self.string = self.process(self.statement, **compile_kwargs)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/compiler.py", line 490, in process
    return obj._compiler_dispatch(self, **kwargs)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/visitors.py", line 81, in _compiler_dispatch
    return meth(self, **kw)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/compiler.py", line 3019, in visit_select
    compile_state = select_stmt._compile_state_factory(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/base.py", line 502, in create_for_statement
    return klass.create_for_statement(statement, compiler, **kw)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/context.py", line 601, in create_for_statement
    self._setup_for_generate()
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/context.py", line 620, in _setup_for_generate
    self._legacy_join(query._legacy_setup_joins)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/context.py", line 1464, in _legacy_join
    self._join_left_to_right(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/context.py", line 1504, in _join_left_to_right
    ) = self._join_determine_implicit_left_side(left, right, onclause)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/context.py", line 1664, in _join_determine_implicit_left_side
    raise sa_exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: Don't know how to join to <Mapper at 0x7ff3c8bf2dc0; DocumentField>. Please use the .select_from() method to establish an explicit left side, as well as providing an explicit ON clause if not present already to help resolve the ambiguity.
2021-05-10 03:24:19,725 - INFO - Shutting down
2021-05-10 03:24:19,825 - INFO - Waiting for application shutdown.
2021-05-10 03:24:19,826 - INFO - Application shutdown complete.
2021-05-10 03:24:19,826 - INFO - Finished server process [19529]
2021-05-10 03:24:20,467 - INFO - Started server process [19539]
2021-05-10 03:24:20,468 - INFO - Waiting for application startup.
2021-05-10 03:24:20,468 - INFO - Application startup complete.
2021-05-10 03:24:20,468 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-05-10 03:24:23,109 - INFO - BEGIN (implicit)
2021-05-10 03:24:23,113 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/opt/jupyter/lib/python3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 48, in db_session_middleware
    response = await call_next(request)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/opt/jupyter/lib/python3.8/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/opt/jupyter/lib/python3.8/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/opt/anaconda3/lib/python3.8/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pot/project/web-service/backend/app/api/resources/show_v1.py", line 20, in split_last
    last_doc = document_logic.get_one_last_type_status(db_session, 1, 2)
  File "/home/pot/project/web-service/backend/app/databases/repository_logic/document_logic.py", line 30, in get_one_last_type_status
    return db_session.query(Document) \
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 2750, in first
    return self.limit(1)._iter().first()
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 2834, in _iter
    result = self.session.execute(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1675, in execute
    result = conn._execute_20(statement, params or {}, execution_options)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1578, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 320, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1439, in _execute_clauseelement
    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 542, in _compile_w_cache
    compiled_sql = self._compiler(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 577, in _compiler
    return dialect.statement_compiler(dialect, self, **kw)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/compiler.py", line 766, in __init__
    Compiled.__init__(self, dialect, statement, **kwargs)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/compiler.py", line 455, in __init__
    self.string = self.process(self.statement, **compile_kwargs)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/compiler.py", line 490, in process
    return obj._compiler_dispatch(self, **kwargs)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/visitors.py", line 81, in _compiler_dispatch
    return meth(self, **kw)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/compiler.py", line 3019, in visit_select
    compile_state = select_stmt._compile_state_factory(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/base.py", line 502, in create_for_statement
    return klass.create_for_statement(statement, compiler, **kw)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/context.py", line 601, in create_for_statement
    self._setup_for_generate()
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/context.py", line 620, in _setup_for_generate
    self._legacy_join(query._legacy_setup_joins)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/context.py", line 1418, in _legacy_join
    util.raise_(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 211, in raise_
    raise exception
sqlalchemy.exc.ArgumentError: Join target DocumentField.id does not refer to a mapped entity
2021-05-10 03:36:54,041 - INFO - Shutting down
2021-05-10 03:36:54,142 - INFO - Waiting for application shutdown.
2021-05-10 03:36:54,142 - INFO - Application shutdown complete.
2021-05-10 03:36:54,142 - INFO - Finished server process [19539]
2021-05-10 03:36:54,725 - INFO - Started server process [19592]
2021-05-10 03:36:54,726 - INFO - Waiting for application startup.
2021-05-10 03:36:54,726 - INFO - Application startup complete.
2021-05-10 03:36:54,726 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-05-10 03:37:13,384 - INFO - Shutting down
2021-05-10 03:37:13,485 - INFO - Waiting for application shutdown.
2021-05-10 03:37:13,485 - INFO - Application shutdown complete.
2021-05-10 03:37:13,485 - INFO - Finished server process [19592]
2021-05-10 03:37:14,021 - INFO - Started server process [19602]
2021-05-10 03:37:14,021 - INFO - Waiting for application startup.
2021-05-10 03:37:14,021 - INFO - Application startup complete.
2021-05-10 03:37:14,022 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-05-10 03:37:21,687 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/opt/jupyter/lib/python3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 48, in db_session_middleware
    response = await call_next(request)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/opt/jupyter/lib/python3.8/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/opt/jupyter/lib/python3.8/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/opt/anaconda3/lib/python3.8/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pot/project/web-service/backend/app/api/resources/show_v1.py", line 20, in split_last
    doc_type = document_type_logic.read_by_nane(db_session, type_doc)
NameError: name 'document_type_logic' is not defined
2021-05-10 03:38:38,299 - INFO - Shutting down
2021-05-10 03:38:38,400 - INFO - Waiting for application shutdown.
2021-05-10 03:38:38,400 - INFO - Application shutdown complete.
2021-05-10 03:38:38,400 - INFO - Finished server process [19602]
2021-05-10 03:38:38,951 - INFO - Started server process [19624]
2021-05-10 03:38:38,951 - INFO - Waiting for application startup.
2021-05-10 03:38:38,951 - INFO - Application startup complete.
2021-05-10 03:38:38,952 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-05-10 03:38:41,865 - INFO - BEGIN (implicit)
2021-05-10 03:38:41,868 - INFO - SELECT document_type.id AS document_type_id, document_type.name AS document_type_name, document_type.description AS document_type_description, document_type.create_date AS document_type_create_date, document_type.update_date AS document_type_update_date 
FROM document_type 
WHERE document_type.name = %(name_1)s 
 LIMIT %(param_1)s
2021-05-10 03:38:41,868 - INFO - [generated in 0.00033s] {'name_1': 'identity-card', 'param_1': 1}
2021-05-10 03:38:41,872 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/opt/jupyter/lib/python3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 48, in db_session_middleware
    response = await call_next(request)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/opt/jupyter/lib/python3.8/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/opt/jupyter/lib/python3.8/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/opt/anaconda3/lib/python3.8/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pot/project/web-service/backend/app/api/resources/show_v1.py", line 22, in split_last
    status = status_logic.read_by_status_code(db_session, status_code)
AttributeError: module 'databases.repository_logic.status_logic' has no attribute 'read_by_status_code'
2021-05-10 03:38:54,010 - INFO - Shutting down
2021-05-10 03:38:54,110 - INFO - Waiting for application shutdown.
2021-05-10 03:38:54,111 - INFO - Application shutdown complete.
2021-05-10 03:38:54,111 - INFO - Finished server process [19624]
2021-05-10 03:38:54,788 - INFO - Started server process [19636]
2021-05-10 03:38:54,788 - INFO - Waiting for application startup.
2021-05-10 03:38:54,788 - INFO - Application startup complete.
2021-05-10 03:38:54,788 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-05-10 03:38:55,886 - INFO - BEGIN (implicit)
2021-05-10 03:38:55,889 - INFO - SELECT document_type.id AS document_type_id, document_type.name AS document_type_name, document_type.description AS document_type_description, document_type.create_date AS document_type_create_date, document_type.update_date AS document_type_update_date 
FROM document_type 
WHERE document_type.name = %(name_1)s 
 LIMIT %(param_1)s
2021-05-10 03:38:55,889 - INFO - [generated in 0.00029s] {'name_1': 'identity-card', 'param_1': 1}
2021-05-10 03:38:55,892 - INFO - SELECT status.id AS status_id, status.status_code AS status_status_code, status.status_name AS status_status_name, status.description AS status_description, status.create_date AS status_create_date, status.update_date AS status_update_date 
FROM status 
WHERE status.status_code = %(status_code_1)s 
 LIMIT %(param_1)s
2021-05-10 03:38:55,892 - INFO - [generated in 0.00026s] {'status_code_1': 200, 'param_1': 1}
2021-05-10 03:38:55,896 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/opt/jupyter/lib/python3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 48, in db_session_middleware
    response = await call_next(request)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/opt/jupyter/lib/python3.8/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/opt/jupyter/lib/python3.8/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/opt/anaconda3/lib/python3.8/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pot/project/web-service/backend/app/api/resources/show_v1.py", line 25, in split_last
    last_doc = document_logic.get_one_last_type_status(db_session, doc_type.id, status.id)
  File "/home/pot/project/web-service/backend/app/databases/repository_logic/document_logic.py", line 30, in get_one_last_type_status
    return db_session.query(Document) \
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 2750, in first
    return self.limit(1)._iter().first()
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 2834, in _iter
    result = self.session.execute(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1675, in execute
    result = conn._execute_20(statement, params or {}, execution_options)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1578, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 320, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1439, in _execute_clauseelement
    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 542, in _compile_w_cache
    compiled_sql = self._compiler(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 577, in _compiler
    return dialect.statement_compiler(dialect, self, **kw)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/compiler.py", line 766, in __init__
    Compiled.__init__(self, dialect, statement, **kwargs)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/compiler.py", line 455, in __init__
    self.string = self.process(self.statement, **compile_kwargs)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/compiler.py", line 490, in process
    return obj._compiler_dispatch(self, **kwargs)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/visitors.py", line 81, in _compiler_dispatch
    return meth(self, **kw)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/compiler.py", line 3019, in visit_select
    compile_state = select_stmt._compile_state_factory(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/base.py", line 502, in create_for_statement
    return klass.create_for_statement(statement, compiler, **kw)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/context.py", line 601, in create_for_statement
    self._setup_for_generate()
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/context.py", line 620, in _setup_for_generate
    self._legacy_join(query._legacy_setup_joins)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/context.py", line 1418, in _legacy_join
    util.raise_(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 211, in raise_
    raise exception
sqlalchemy.exc.ArgumentError: Join target DocumentField.id does not refer to a mapped entity
2021-05-10 03:39:44,621 - INFO - Shutting down
2021-05-10 03:39:44,722 - INFO - Waiting for application shutdown.
2021-05-10 03:39:44,722 - INFO - Application shutdown complete.
2021-05-10 03:39:44,722 - INFO - Finished server process [19636]
2021-05-10 03:39:45,410 - INFO - Started server process [19646]
2021-05-10 03:39:45,410 - INFO - Waiting for application startup.
2021-05-10 03:39:45,411 - INFO - Application startup complete.
2021-05-10 03:39:45,411 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-05-10 03:39:48,128 - INFO - BEGIN (implicit)
2021-05-10 03:39:48,131 - INFO - SELECT document_type.id AS document_type_id, document_type.name AS document_type_name, document_type.description AS document_type_description, document_type.create_date AS document_type_create_date, document_type.update_date AS document_type_update_date 
FROM document_type 
WHERE document_type.name = %(name_1)s 
 LIMIT %(param_1)s
2021-05-10 03:39:48,132 - INFO - [generated in 0.00033s] {'name_1': 'identity-card', 'param_1': 1}
2021-05-10 03:39:48,135 - INFO - SELECT status.id AS status_id, status.status_code AS status_status_code, status.status_name AS status_status_name, status.description AS status_description, status.create_date AS status_create_date, status.update_date AS status_update_date 
FROM status 
WHERE status.status_code = %(status_code_1)s 
 LIMIT %(param_1)s
2021-05-10 03:39:48,136 - INFO - [generated in 0.00030s] {'status_code_1': 200, 'param_1': 1}
2021-05-10 03:39:48,145 - INFO - SELECT anon_1.document_id AS anon_1_document_id, anon_1.document_name AS anon_1_document_name, anon_1.document_url AS anon_1_document_url, anon_1.document_export_date AS anon_1_document_export_date, anon_1.document_create_date AS anon_1_document_create_date, anon_1.document_update_date AS anon_1_document_update_date, anon_1.document_type_id AS anon_1_document_type_id, anon_1.document_status_id AS anon_1_document_status_id, document_split_1.id AS document_split_1_id, document_split_1.name AS document_split_1_name, document_split_1.value AS document_split_1_value, document_split_1.is_extracted AS document_split_1_is_extracted, document_split_1.url AS document_split_1_url, document_split_1.create_date AS document_split_1_create_date, document_split_1.update_date AS document_split_1_update_date, document_split_1.type_id AS document_split_1_type_id, document_split_1.document_id AS document_split_1_document_id, document_split_1.field_id AS document_split_1_field_id 
FROM (SELECT document.id AS document_id, document.name AS document_name, document.url AS document_url, document.export_date AS document_export_date, document.create_date AS document_create_date, document.update_date AS document_update_date, document.type_id AS document_type_id, document.status_id AS document_status_id 
FROM document 
WHERE document.type_id = %(type_id_1)s AND document.status_id = %(status_id_1)s ORDER BY document.update_date DESC 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN document_split AS document_split_1 ON anon_1.document_id = document_split_1.document_id ORDER BY anon_1.document_update_date DESC
2021-05-10 03:39:48,145 - INFO - [generated in 0.00038s] {'type_id_1': 1, 'status_id_1': 2, 'param_1': 1}
2021-05-10 03:39:48,152 - INFO - ROLLBACK
2021-05-10 03:45:20,736 - INFO - Shutting down
2021-05-10 03:45:20,837 - INFO - Waiting for application shutdown.
2021-05-10 03:45:20,837 - INFO - Application shutdown complete.
2021-05-10 03:45:20,838 - INFO - Finished server process [19646]
2021-05-10 03:45:21,406 - INFO - Started server process [19676]
2021-05-10 03:45:21,406 - INFO - Waiting for application startup.
2021-05-10 03:45:21,407 - INFO - Application startup complete.
2021-05-10 03:45:21,407 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-05-10 03:45:23,987 - INFO - BEGIN (implicit)
2021-05-10 03:45:23,989 - INFO - SELECT document_type.id AS document_type_id, document_type.name AS document_type_name, document_type.description AS document_type_description, document_type.create_date AS document_type_create_date, document_type.update_date AS document_type_update_date 
FROM document_type 
WHERE document_type.name = %(name_1)s 
 LIMIT %(param_1)s
2021-05-10 03:45:23,989 - INFO - [generated in 0.00026s] {'name_1': 'identity-card', 'param_1': 1}
2021-05-10 03:45:23,993 - INFO - SELECT status.id AS status_id, status.status_code AS status_status_code, status.status_name AS status_status_name, status.description AS status_description, status.create_date AS status_create_date, status.update_date AS status_update_date 
FROM status 
WHERE status.status_code = %(status_code_1)s 
 LIMIT %(param_1)s
2021-05-10 03:45:23,993 - INFO - [generated in 0.00024s] {'status_code_1': 200, 'param_1': 1}
2021-05-10 03:45:24,001 - INFO - SELECT anon_1.document_id AS anon_1_document_id, anon_1.document_name AS anon_1_document_name, anon_1.document_url AS anon_1_document_url, anon_1.document_export_date AS anon_1_document_export_date, anon_1.document_create_date AS anon_1_document_create_date, anon_1.document_update_date AS anon_1_document_update_date, anon_1.document_type_id AS anon_1_document_type_id, anon_1.document_status_id AS anon_1_document_status_id, document_split_1.id AS document_split_1_id, document_split_1.name AS document_split_1_name, document_split_1.value AS document_split_1_value, document_split_1.is_extracted AS document_split_1_is_extracted, document_split_1.url AS document_split_1_url, document_split_1.create_date AS document_split_1_create_date, document_split_1.update_date AS document_split_1_update_date, document_split_1.type_id AS document_split_1_type_id, document_split_1.document_id AS document_split_1_document_id, document_split_1.field_id AS document_split_1_field_id 
FROM (SELECT document.id AS document_id, document.name AS document_name, document.url AS document_url, document.export_date AS document_export_date, document.create_date AS document_create_date, document.update_date AS document_update_date, document.type_id AS document_type_id, document.status_id AS document_status_id 
FROM document 
WHERE document.type_id = %(type_id_1)s AND document.status_id = %(status_id_1)s ORDER BY document.update_date DESC 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN document_split AS document_split_1 ON anon_1.document_id = document_split_1.document_id ORDER BY anon_1.document_update_date DESC
2021-05-10 03:45:24,001 - INFO - [generated in 0.00031s] {'type_id_1': 1, 'status_id_1': 2, 'param_1': 1}
2021-05-10 03:45:24,006 - INFO - ROLLBACK
2021-05-10 03:54:15,647 - INFO - Shutting down
2021-05-10 03:54:15,747 - INFO - Waiting for application shutdown.
2021-05-10 03:54:15,748 - INFO - Application shutdown complete.
2021-05-10 03:54:15,748 - INFO - Finished server process [19676]
2021-05-10 03:54:16,433 - INFO - Started server process [19706]
2021-05-10 03:54:16,434 - INFO - Waiting for application startup.
2021-05-10 03:54:16,434 - INFO - Application startup complete.
2021-05-10 03:54:16,435 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-05-10 03:54:23,868 - INFO - BEGIN (implicit)
2021-05-10 03:54:23,871 - INFO - SELECT document_type.id AS document_type_id, document_type.name AS document_type_name, document_type.description AS document_type_description, document_type.create_date AS document_type_create_date, document_type.update_date AS document_type_update_date 
FROM document_type 
WHERE document_type.name = %(name_1)s 
 LIMIT %(param_1)s
2021-05-10 03:54:23,872 - INFO - [generated in 0.00035s] {'name_1': 'identity-card', 'param_1': 1}
2021-05-10 03:54:23,876 - INFO - SELECT status.id AS status_id, status.status_code AS status_status_code, status.status_name AS status_status_name, status.description AS status_description, status.create_date AS status_create_date, status.update_date AS status_update_date 
FROM status 
WHERE status.status_code = %(status_code_1)s 
 LIMIT %(param_1)s
2021-05-10 03:54:23,876 - INFO - [generated in 0.00033s] {'status_code_1': 200, 'param_1': 1}
2021-05-10 03:54:23,885 - INFO - SELECT anon_1.document_id AS anon_1_document_id, anon_1.document_name AS anon_1_document_name, anon_1.document_url AS anon_1_document_url, anon_1.document_export_date AS anon_1_document_export_date, anon_1.document_create_date AS anon_1_document_create_date, anon_1.document_update_date AS anon_1_document_update_date, anon_1.document_type_id AS anon_1_document_type_id, anon_1.document_status_id AS anon_1_document_status_id, document_process_1.id AS document_process_1_id, document_process_1.name AS document_process_1_name, document_process_1.value AS document_process_1_value, document_process_1.is_extracted AS document_process_1_is_extracted, document_process_1.url AS document_process_1_url, document_process_1.create_date AS document_process_1_create_date, document_process_1.update_date AS document_process_1_update_date, document_process_1.type_id AS document_process_1_type_id, document_process_1.document_id AS document_process_1_document_id, document_process_1.field_id AS document_process_1_field_id 
FROM (SELECT document.id AS document_id, document.name AS document_name, document.url AS document_url, document.export_date AS document_export_date, document.create_date AS document_create_date, document.update_date AS document_update_date, document.type_id AS document_type_id, document.status_id AS document_status_id 
FROM document 
WHERE document.type_id = %(type_id_1)s AND document.status_id = %(status_id_1)s ORDER BY document.update_date DESC 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN document_process AS document_process_1 ON anon_1.document_id = document_process_1.document_id ORDER BY anon_1.document_update_date DESC
2021-05-10 03:54:23,885 - INFO - [generated in 0.00040s] {'type_id_1': 1, 'status_id_1': 2, 'param_1': 1}
2021-05-10 03:54:23,891 - INFO - ROLLBACK
2021-05-10 03:57:58,000 - INFO - BEGIN (implicit)
2021-05-10 03:57:58,001 - INFO - SELECT document_type.id AS document_type_id, document_type.name AS document_type_name, document_type.description AS document_type_description, document_type.create_date AS document_type_create_date, document_type.update_date AS document_type_update_date 
FROM document_type 
WHERE document_type.name = %(name_1)s 
 LIMIT %(param_1)s
2021-05-10 03:57:58,001 - INFO - [cached since 214.1s ago] {'name_1': 'identity-card', 'param_1': 1}
2021-05-10 03:57:58,003 - INFO - SELECT status.id AS status_id, status.status_code AS status_status_code, status.status_name AS status_status_name, status.description AS status_description, status.create_date AS status_create_date, status.update_date AS status_update_date 
FROM status 
WHERE status.status_code = %(status_code_1)s 
 LIMIT %(param_1)s
2021-05-10 03:57:58,003 - INFO - [cached since 214.1s ago] {'status_code_1': 200, 'param_1': 1}
2021-05-10 03:57:58,005 - INFO - SELECT anon_1.document_id AS anon_1_document_id, anon_1.document_name AS anon_1_document_name, anon_1.document_url AS anon_1_document_url, anon_1.document_export_date AS anon_1_document_export_date, anon_1.document_create_date AS anon_1_document_create_date, anon_1.document_update_date AS anon_1_document_update_date, anon_1.document_type_id AS anon_1_document_type_id, anon_1.document_status_id AS anon_1_document_status_id, document_process_1.id AS document_process_1_id, document_process_1.name AS document_process_1_name, document_process_1.value AS document_process_1_value, document_process_1.is_extracted AS document_process_1_is_extracted, document_process_1.url AS document_process_1_url, document_process_1.create_date AS document_process_1_create_date, document_process_1.update_date AS document_process_1_update_date, document_process_1.type_id AS document_process_1_type_id, document_process_1.document_id AS document_process_1_document_id, document_process_1.field_id AS document_process_1_field_id 
FROM (SELECT document.id AS document_id, document.name AS document_name, document.url AS document_url, document.export_date AS document_export_date, document.create_date AS document_create_date, document.update_date AS document_update_date, document.type_id AS document_type_id, document.status_id AS document_status_id 
FROM document 
WHERE document.type_id = %(type_id_1)s AND document.status_id = %(status_id_1)s ORDER BY document.update_date DESC 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN document_process AS document_process_1 ON anon_1.document_id = document_process_1.document_id ORDER BY anon_1.document_update_date DESC
2021-05-10 03:57:58,005 - INFO - [cached since 214.1s ago] {'type_id_1': 1, 'status_id_1': 2, 'param_1': 1}
2021-05-10 03:57:58,008 - INFO - ROLLBACK
2021-05-10 03:59:23,373 - INFO - Shutting down
2021-05-10 03:59:23,474 - INFO - Waiting for application shutdown.
2021-05-10 03:59:23,474 - INFO - Application shutdown complete.
2021-05-10 03:59:23,474 - INFO - Finished server process [19706]
2021-05-10 03:59:39,943 - INFO - Started server process [19748]
2021-05-10 03:59:39,944 - INFO - Waiting for application startup.
2021-05-10 03:59:39,944 - INFO - Application startup complete.
2021-05-10 03:59:39,944 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-05-10 03:59:41,813 - INFO - BEGIN (implicit)
2021-05-10 03:59:41,815 - INFO - SELECT document_type.id AS document_type_id, document_type.name AS document_type_name, document_type.description AS document_type_description, document_type.create_date AS document_type_create_date, document_type.update_date AS document_type_update_date 
FROM document_type 
WHERE document_type.name = %(name_1)s 
 LIMIT %(param_1)s
2021-05-10 03:59:41,815 - INFO - [generated in 0.00032s] {'name_1': 'identity-card', 'param_1': 1}
2021-05-10 03:59:41,819 - INFO - SELECT status.id AS status_id, status.status_code AS status_status_code, status.status_name AS status_status_name, status.description AS status_description, status.create_date AS status_create_date, status.update_date AS status_update_date 
FROM status 
WHERE status.status_code = %(status_code_1)s 
 LIMIT %(param_1)s
2021-05-10 03:59:41,819 - INFO - [generated in 0.00032s] {'status_code_1': 200, 'param_1': 1}
2021-05-10 03:59:41,828 - INFO - SELECT anon_1.document_id AS anon_1_document_id, anon_1.document_name AS anon_1_document_name, anon_1.document_url AS anon_1_document_url, anon_1.document_crop_url AS anon_1_document_crop_url, anon_1.document_export_date AS anon_1_document_export_date, anon_1.document_create_date AS anon_1_document_create_date, anon_1.document_update_date AS anon_1_document_update_date, anon_1.document_type_id AS anon_1_document_type_id, anon_1.document_status_id AS anon_1_document_status_id, document_process_1.id AS document_process_1_id, document_process_1.name AS document_process_1_name, document_process_1.value AS document_process_1_value, document_process_1.is_extracted AS document_process_1_is_extracted, document_process_1.url AS document_process_1_url, document_process_1.create_date AS document_process_1_create_date, document_process_1.update_date AS document_process_1_update_date, document_process_1.type_id AS document_process_1_type_id, document_process_1.document_id AS document_process_1_document_id, document_process_1.field_id AS document_process_1_field_id 
FROM (SELECT document.id AS document_id, document.name AS document_name, document.url AS document_url, document.crop_url AS document_crop_url, document.export_date AS document_export_date, document.create_date AS document_create_date, document.update_date AS document_update_date, document.type_id AS document_type_id, document.status_id AS document_status_id 
FROM document 
WHERE document.type_id = %(type_id_1)s AND document.status_id = %(status_id_1)s ORDER BY document.update_date DESC 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN document_process AS document_process_1 ON anon_1.document_id = document_process_1.document_id ORDER BY anon_1.document_update_date DESC
2021-05-10 03:59:41,829 - INFO - [generated in 0.00035s] {'type_id_1': 1, 'status_id_1': 2, 'param_1': 1}
2021-05-10 03:59:41,831 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/opt/jupyter/lib/python3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 48, in db_session_middleware
    response = await call_next(request)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/opt/jupyter/lib/python3.8/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/opt/jupyter/lib/python3.8/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/opt/anaconda3/lib/python3.8/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pot/project/web-service/backend/app/api/resources/show_v1.py", line 25, in split_last
    last_doc = document_logic.get_one_last_type_status(db_session, doc_type.id, status.id)
  File "/home/pot/project/web-service/backend/app/databases/repository_logic/document_logic.py", line 30, in get_one_last_type_status
    return db_session.query(Document) \
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 2750, in first
    return self.limit(1)._iter().first()
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 2834, in _iter
    result = self.session.execute(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1675, in execute
    result = conn._execute_20(statement, params or {}, execution_options)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1578, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 320, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1447, in _execute_clauseelement
    ret = self._execute_context(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1806, in _execute_context
    self._handle_dbapi_exception(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1987, in _handle_dbapi_exception
    util.raise_(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 211, in raise_
    raise exception
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1763, in _execute_context
    self.dialect.do_execute(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 717, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column document.crop_url does not exist
LINE 2: ...e AS document_name, document.url AS document_url, document.c...
                                                             ^

[SQL: SELECT anon_1.document_id AS anon_1_document_id, anon_1.document_name AS anon_1_document_name, anon_1.document_url AS anon_1_document_url, anon_1.document_crop_url AS anon_1_document_crop_url, anon_1.document_export_date AS anon_1_document_export_date, anon_1.document_create_date AS anon_1_document_create_date, anon_1.document_update_date AS anon_1_document_update_date, anon_1.document_type_id AS anon_1_document_type_id, anon_1.document_status_id AS anon_1_document_status_id, document_process_1.id AS document_process_1_id, document_process_1.name AS document_process_1_name, document_process_1.value AS document_process_1_value, document_process_1.is_extracted AS document_process_1_is_extracted, document_process_1.url AS document_process_1_url, document_process_1.create_date AS document_process_1_create_date, document_process_1.update_date AS document_process_1_update_date, document_process_1.type_id AS document_process_1_type_id, document_process_1.document_id AS document_process_1_document_id, document_process_1.field_id AS document_process_1_field_id 
FROM (SELECT document.id AS document_id, document.name AS document_name, document.url AS document_url, document.crop_url AS document_crop_url, document.export_date AS document_export_date, document.create_date AS document_create_date, document.update_date AS document_update_date, document.type_id AS document_type_id, document.status_id AS document_status_id 
FROM document 
WHERE document.type_id = %(type_id_1)s AND document.status_id = %(status_id_1)s ORDER BY document.update_date DESC 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN document_process AS document_process_1 ON anon_1.document_id = document_process_1.document_id ORDER BY anon_1.document_update_date DESC]
[parameters: {'type_id_1': 1, 'status_id_1': 2, 'param_1': 1}]
(Background on this error at: http://sqlalche.me/e/14/f405)
2021-05-10 03:59:43,581 - INFO - BEGIN (implicit)
2021-05-10 03:59:43,582 - INFO - SELECT document_type.id AS document_type_id, document_type.name AS document_type_name, document_type.description AS document_type_description, document_type.create_date AS document_type_create_date, document_type.update_date AS document_type_update_date 
FROM document_type 
WHERE document_type.name = %(name_1)s 
 LIMIT %(param_1)s
2021-05-10 03:59:43,582 - INFO - [cached since 1.767s ago] {'name_1': 'identity-card', 'param_1': 1}
2021-05-10 03:59:43,585 - INFO - SELECT status.id AS status_id, status.status_code AS status_status_code, status.status_name AS status_status_name, status.description AS status_description, status.create_date AS status_create_date, status.update_date AS status_update_date 
FROM status 
WHERE status.status_code = %(status_code_1)s 
 LIMIT %(param_1)s
2021-05-10 03:59:43,585 - INFO - [cached since 1.766s ago] {'status_code_1': 200, 'param_1': 1}
2021-05-10 03:59:43,587 - INFO - SELECT anon_1.document_id AS anon_1_document_id, anon_1.document_name AS anon_1_document_name, anon_1.document_url AS anon_1_document_url, anon_1.document_crop_url AS anon_1_document_crop_url, anon_1.document_export_date AS anon_1_document_export_date, anon_1.document_create_date AS anon_1_document_create_date, anon_1.document_update_date AS anon_1_document_update_date, anon_1.document_type_id AS anon_1_document_type_id, anon_1.document_status_id AS anon_1_document_status_id, document_process_1.id AS document_process_1_id, document_process_1.name AS document_process_1_name, document_process_1.value AS document_process_1_value, document_process_1.is_extracted AS document_process_1_is_extracted, document_process_1.url AS document_process_1_url, document_process_1.create_date AS document_process_1_create_date, document_process_1.update_date AS document_process_1_update_date, document_process_1.type_id AS document_process_1_type_id, document_process_1.document_id AS document_process_1_document_id, document_process_1.field_id AS document_process_1_field_id 
FROM (SELECT document.id AS document_id, document.name AS document_name, document.url AS document_url, document.crop_url AS document_crop_url, document.export_date AS document_export_date, document.create_date AS document_create_date, document.update_date AS document_update_date, document.type_id AS document_type_id, document.status_id AS document_status_id 
FROM document 
WHERE document.type_id = %(type_id_1)s AND document.status_id = %(status_id_1)s ORDER BY document.update_date DESC 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN document_process AS document_process_1 ON anon_1.document_id = document_process_1.document_id ORDER BY anon_1.document_update_date DESC
2021-05-10 03:59:43,587 - INFO - [cached since 1.759s ago] {'type_id_1': 1, 'status_id_1': 2, 'param_1': 1}
2021-05-10 03:59:43,589 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/opt/jupyter/lib/python3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 48, in db_session_middleware
    response = await call_next(request)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/opt/jupyter/lib/python3.8/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/opt/jupyter/lib/python3.8/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/opt/anaconda3/lib/python3.8/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pot/project/web-service/backend/app/api/resources/show_v1.py", line 25, in split_last
    last_doc = document_logic.get_one_last_type_status(db_session, doc_type.id, status.id)
  File "/home/pot/project/web-service/backend/app/databases/repository_logic/document_logic.py", line 30, in get_one_last_type_status
    return db_session.query(Document) \
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 2750, in first
    return self.limit(1)._iter().first()
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 2834, in _iter
    result = self.session.execute(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1675, in execute
    result = conn._execute_20(statement, params or {}, execution_options)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1578, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 320, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1447, in _execute_clauseelement
    ret = self._execute_context(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1806, in _execute_context
    self._handle_dbapi_exception(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1987, in _handle_dbapi_exception
    util.raise_(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 211, in raise_
    raise exception
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1763, in _execute_context
    self.dialect.do_execute(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 717, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column document.crop_url does not exist
LINE 2: ...e AS document_name, document.url AS document_url, document.c...
                                                             ^

[SQL: SELECT anon_1.document_id AS anon_1_document_id, anon_1.document_name AS anon_1_document_name, anon_1.document_url AS anon_1_document_url, anon_1.document_crop_url AS anon_1_document_crop_url, anon_1.document_export_date AS anon_1_document_export_date, anon_1.document_create_date AS anon_1_document_create_date, anon_1.document_update_date AS anon_1_document_update_date, anon_1.document_type_id AS anon_1_document_type_id, anon_1.document_status_id AS anon_1_document_status_id, document_process_1.id AS document_process_1_id, document_process_1.name AS document_process_1_name, document_process_1.value AS document_process_1_value, document_process_1.is_extracted AS document_process_1_is_extracted, document_process_1.url AS document_process_1_url, document_process_1.create_date AS document_process_1_create_date, document_process_1.update_date AS document_process_1_update_date, document_process_1.type_id AS document_process_1_type_id, document_process_1.document_id AS document_process_1_document_id, document_process_1.field_id AS document_process_1_field_id 
FROM (SELECT document.id AS document_id, document.name AS document_name, document.url AS document_url, document.crop_url AS document_crop_url, document.export_date AS document_export_date, document.create_date AS document_create_date, document.update_date AS document_update_date, document.type_id AS document_type_id, document.status_id AS document_status_id 
FROM document 
WHERE document.type_id = %(type_id_1)s AND document.status_id = %(status_id_1)s ORDER BY document.update_date DESC 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN document_process AS document_process_1 ON anon_1.document_id = document_process_1.document_id ORDER BY anon_1.document_update_date DESC]
[parameters: {'type_id_1': 1, 'status_id_1': 2, 'param_1': 1}]
(Background on this error at: http://sqlalche.me/e/14/f405)
2021-05-10 04:13:13,550 - INFO - Shutting down
2021-05-10 04:13:13,650 - INFO - Waiting for application shutdown.
2021-05-10 04:13:13,651 - INFO - Application shutdown complete.
2021-05-10 04:13:13,651 - INFO - Finished server process [19748]
2021-05-10 04:13:14,263 - INFO - Started server process [19803]
2021-05-10 04:13:14,263 - INFO - Waiting for application startup.
2021-05-10 04:13:14,263 - INFO - Application startup complete.
2021-05-10 04:13:14,264 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-05-10 04:13:16,832 - INFO - BEGIN (implicit)
2021-05-10 04:13:16,835 - INFO - SELECT document_type.id AS document_type_id, document_type.name AS document_type_name, document_type.description AS document_type_description, document_type.create_date AS document_type_create_date, document_type.update_date AS document_type_update_date 
FROM document_type 
WHERE document_type.name = %(name_1)s 
 LIMIT %(param_1)s
2021-05-10 04:13:16,835 - INFO - [generated in 0.00029s] {'name_1': 'identity-card', 'param_1': 1}
2021-05-10 04:13:16,839 - INFO - SELECT status.id AS status_id, status.status_code AS status_status_code, status.status_name AS status_status_name, status.description AS status_description, status.create_date AS status_create_date, status.update_date AS status_update_date 
FROM status 
WHERE status.status_code = %(status_code_1)s 
 LIMIT %(param_1)s
2021-05-10 04:13:16,839 - INFO - [generated in 0.00035s] {'status_code_1': 200, 'param_1': 1}
2021-05-10 04:13:16,851 - INFO - SELECT anon_1.document_id AS anon_1_document_id, anon_1.document_name AS anon_1_document_name, anon_1.document_url AS anon_1_document_url, anon_1.document_crop_url AS anon_1_document_crop_url, anon_1.document_export_date AS anon_1_document_export_date, anon_1.document_create_date AS anon_1_document_create_date, anon_1.document_update_date AS anon_1_document_update_date, anon_1.document_type_id AS anon_1_document_type_id, anon_1.document_status_id AS anon_1_document_status_id, document_process_1.id AS document_process_1_id, document_process_1.name AS document_process_1_name, document_process_1.value AS document_process_1_value, document_process_1.is_extracted AS document_process_1_is_extracted, document_process_1.url AS document_process_1_url, document_process_1.create_date AS document_process_1_create_date, document_process_1.update_date AS document_process_1_update_date, document_process_1.type_id AS document_process_1_type_id, document_process_1.document_id AS document_process_1_document_id, document_process_1.field_id AS document_process_1_field_id 
FROM (SELECT document.id AS document_id, document.name AS document_name, document.url AS document_url, document.crop_url AS document_crop_url, document.export_date AS document_export_date, document.create_date AS document_create_date, document.update_date AS document_update_date, document.type_id AS document_type_id, document.status_id AS document_status_id 
FROM document 
WHERE document.type_id = %(type_id_1)s AND document.status_id = %(status_id_1)s ORDER BY document.update_date DESC 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN document_process AS document_process_1 ON anon_1.document_id = document_process_1.document_id ORDER BY anon_1.document_update_date DESC
2021-05-10 04:13:16,851 - INFO - [generated in 0.00040s] {'type_id_1': 1, 'status_id_1': 2, 'param_1': 1}
2021-05-10 04:13:16,856 - INFO - ROLLBACK
2021-05-10 04:16:03,289 - INFO - Shutting down
2021-05-10 04:16:03,390 - INFO - Waiting for application shutdown.
2021-05-10 04:16:03,391 - INFO - Application shutdown complete.
2021-05-10 04:16:03,391 - INFO - Finished server process [19803]
2021-05-10 04:16:04,099 - INFO - Started server process [19821]
2021-05-10 04:16:04,099 - INFO - Waiting for application startup.
2021-05-10 04:16:04,099 - INFO - Application startup complete.
2021-05-10 04:16:04,100 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-05-10 04:16:59,520 - INFO - BEGIN (implicit)
2021-05-10 04:16:59,523 - INFO - SELECT document.id AS document_id, document.name AS document_name, document.url AS document_url, document.crop_url AS document_crop_url, document.export_date AS document_export_date, document.create_date AS document_create_date, document.update_date AS document_update_date, document.type_id AS document_type_id, document.status_id AS document_status_id 
FROM document 
WHERE document.id = %(id_1)s 
 LIMIT %(param_1)s
2021-05-10 04:16:59,523 - INFO - [generated in 0.00028s] {'id_1': 6, 'param_1': 1}
2021-05-10 04:16:59,526 - INFO - ROLLBACK
2021-05-10 04:17:49,948 - INFO - Shutting down
2021-05-10 04:17:50,049 - INFO - Waiting for application shutdown.
2021-05-10 04:17:50,049 - INFO - Application shutdown complete.
2021-05-10 04:17:50,049 - INFO - Finished server process [19821]
2021-05-10 04:17:50,661 - INFO - Started server process [19836]
2021-05-10 04:17:50,661 - INFO - Waiting for application startup.
2021-05-10 04:17:50,661 - INFO - Application startup complete.
2021-05-10 04:17:50,662 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-05-10 04:17:53,029 - INFO - BEGIN (implicit)
2021-05-10 04:17:53,032 - INFO - SELECT document.id AS document_id, document.name AS document_name, document.url AS document_url, document.crop_url AS document_crop_url, document.export_date AS document_export_date, document.create_date AS document_create_date, document.update_date AS document_update_date, document.type_id AS document_type_id, document.status_id AS document_status_id 
FROM document 
WHERE document.id = %(id_1)s 
 LIMIT %(param_1)s
2021-05-10 04:17:53,032 - INFO - [generated in 0.00027s] {'id_1': 6, 'param_1': 1}
2021-05-10 04:17:53,034 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/opt/jupyter/lib/python3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 48, in db_session_middleware
    response = await call_next(request)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/opt/jupyter/lib/python3.8/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/opt/jupyter/lib/python3.8/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/opt/anaconda3/lib/python3.8/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pot/project/web-service/backend/app/api/resources/ftp_v1.py", line 75, in upload_image_ftp_field
    field = document_field_logic.get_by_field_name(db_session, field_name)
NameError: name 'document_field_logic' is not defined
2021-05-10 04:18:29,420 - INFO - Shutting down
2021-05-10 04:18:29,520 - INFO - Waiting for application shutdown.
2021-05-10 04:18:29,521 - INFO - Application shutdown complete.
2021-05-10 04:18:29,521 - INFO - Finished server process [19836]
2021-05-10 04:18:30,234 - INFO - Started server process [19852]
2021-05-10 04:18:30,234 - INFO - Waiting for application startup.
2021-05-10 04:18:30,234 - INFO - Application startup complete.
2021-05-10 04:18:30,234 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-05-10 04:18:31,627 - INFO - BEGIN (implicit)
2021-05-10 04:18:31,630 - INFO - SELECT document.id AS document_id, document.name AS document_name, document.url AS document_url, document.crop_url AS document_crop_url, document.export_date AS document_export_date, document.create_date AS document_create_date, document.update_date AS document_update_date, document.type_id AS document_type_id, document.status_id AS document_status_id 
FROM document 
WHERE document.id = %(id_1)s 
 LIMIT %(param_1)s
2021-05-10 04:18:31,630 - INFO - [generated in 0.00032s] {'id_1': 6, 'param_1': 1}
2021-05-10 04:18:31,632 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/opt/jupyter/lib/python3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 48, in db_session_middleware
    response = await call_next(request)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/opt/jupyter/lib/python3.8/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/opt/jupyter/lib/python3.8/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/opt/anaconda3/lib/python3.8/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pot/project/web-service/backend/app/api/resources/ftp_v1.py", line 75, in upload_image_ftp_field
    field = document_field_logic.get_by_field_name(db_session, field_name)
AttributeError: module 'databases.repository_logic.document_field_logic' has no attribute 'get_by_field_name'
2021-05-10 04:19:05,099 - INFO - Shutting down
2021-05-10 04:19:05,200 - INFO - Waiting for application shutdown.
2021-05-10 04:19:05,201 - INFO - Application shutdown complete.
2021-05-10 04:19:05,201 - INFO - Finished server process [19852]
2021-05-10 04:19:05,753 - INFO - Started server process [19865]
2021-05-10 04:19:05,754 - INFO - Waiting for application startup.
2021-05-10 04:19:05,754 - INFO - Application startup complete.
2021-05-10 04:19:05,754 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-05-10 04:19:07,422 - INFO - BEGIN (implicit)
2021-05-10 04:19:07,426 - INFO - SELECT document.id AS document_id, document.name AS document_name, document.url AS document_url, document.crop_url AS document_crop_url, document.export_date AS document_export_date, document.create_date AS document_create_date, document.update_date AS document_update_date, document.type_id AS document_type_id, document.status_id AS document_status_id 
FROM document 
WHERE document.id = %(id_1)s 
 LIMIT %(param_1)s
2021-05-10 04:19:07,426 - INFO - [generated in 0.00036s] {'id_1': 6, 'param_1': 1}
2021-05-10 04:19:07,430 - INFO - SELECT document_field.id AS document_field_id, document_field.type_id AS document_field_type_id, document_field.name AS document_field_name, document_field.description AS document_field_description, document_field.is_performance AS document_field_is_performance, document_field.create_date AS document_field_create_date, document_field.update_date AS document_field_update_date 
FROM document_field 
WHERE document_field.name = %(name_1)s 
 LIMIT %(param_1)s
2021-05-10 04:19:07,430 - INFO - [generated in 0.00029s] {'name_1': 'address', 'param_1': 1}
2021-05-10 04:19:07,433 - INFO - SELECT document_type.id AS document_type_id, document_type.name AS document_type_name, document_type.description AS document_type_description, document_type.create_date AS document_type_create_date, document_type.update_date AS document_type_update_date 
FROM document_type 
WHERE document_type.id = %(id_1)s 
 LIMIT %(param_1)s
2021-05-10 04:19:07,433 - INFO - [generated in 0.00025s] {'id_1': 1, 'param_1': 1}
2021-05-10 04:19:07,548 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/opt/jupyter/lib/python3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 48, in db_session_middleware
    response = await call_next(request)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/opt/jupyter/lib/python3.8/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/opt/jupyter/lib/python3.8/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/opt/anaconda3/lib/python3.8/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pot/project/web-service/backend/app/api/resources/ftp_v1.py", line 99, in upload_image_ftp_field
    type_id = type_id,
NameError: name 'type_id' is not defined
2021-05-10 04:20:14,625 - INFO - BEGIN (implicit)
2021-05-10 04:20:14,626 - INFO - SELECT document.id AS document_id, document.name AS document_name, document.url AS document_url, document.crop_url AS document_crop_url, document.export_date AS document_export_date, document.create_date AS document_create_date, document.update_date AS document_update_date, document.type_id AS document_type_id, document.status_id AS document_status_id 
FROM document 
WHERE document.id = %(id_1)s 
 LIMIT %(param_1)s
2021-05-10 04:20:14,626 - INFO - [cached since 67.2s ago] {'id_1': 6, 'param_1': 1}
2021-05-10 04:20:14,628 - INFO - SELECT document_field.id AS document_field_id, document_field.type_id AS document_field_type_id, document_field.name AS document_field_name, document_field.description AS document_field_description, document_field.is_performance AS document_field_is_performance, document_field.create_date AS document_field_create_date, document_field.update_date AS document_field_update_date 
FROM document_field 
WHERE document_field.name = %(name_1)s 
 LIMIT %(param_1)s
2021-05-10 04:20:14,628 - INFO - [cached since 67.2s ago] {'name_1': 'address', 'param_1': 1}
2021-05-10 04:20:14,630 - INFO - SELECT document_type.id AS document_type_id, document_type.name AS document_type_name, document_type.description AS document_type_description, document_type.create_date AS document_type_create_date, document_type.update_date AS document_type_update_date 
FROM document_type 
WHERE document_type.id = %(id_1)s 
 LIMIT %(param_1)s
2021-05-10 04:20:14,630 - INFO - [cached since 67.2s ago] {'id_1': 1, 'param_1': 1}
2021-05-10 04:20:14,743 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/opt/jupyter/lib/python3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 48, in db_session_middleware
    response = await call_next(request)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/opt/jupyter/lib/python3.8/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/opt/jupyter/lib/python3.8/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/opt/anaconda3/lib/python3.8/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pot/project/web-service/backend/app/api/resources/ftp_v1.py", line 99, in upload_image_ftp_field
    type_id = doc.type_id,
NameError: name 'type_id' is not defined
2021-05-10 04:20:19,795 - INFO - Shutting down
2021-05-10 04:20:19,895 - INFO - Waiting for application shutdown.
2021-05-10 04:20:19,896 - INFO - Application shutdown complete.
2021-05-10 04:20:19,896 - INFO - Finished server process [19865]
2021-05-10 04:20:20,593 - INFO - Started server process [19889]
2021-05-10 04:20:20,593 - INFO - Waiting for application startup.
2021-05-10 04:20:20,594 - INFO - Application startup complete.
2021-05-10 04:20:20,594 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-05-10 04:20:22,398 - INFO - BEGIN (implicit)
2021-05-10 04:20:22,404 - INFO - SELECT document.id AS document_id, document.name AS document_name, document.url AS document_url, document.crop_url AS document_crop_url, document.export_date AS document_export_date, document.create_date AS document_create_date, document.update_date AS document_update_date, document.type_id AS document_type_id, document.status_id AS document_status_id 
FROM document 
WHERE document.id = %(id_1)s 
 LIMIT %(param_1)s
2021-05-10 04:20:22,404 - INFO - [generated in 0.00030s] {'id_1': 6, 'param_1': 1}
2021-05-10 04:20:22,407 - INFO - SELECT document_field.id AS document_field_id, document_field.type_id AS document_field_type_id, document_field.name AS document_field_name, document_field.description AS document_field_description, document_field.is_performance AS document_field_is_performance, document_field.create_date AS document_field_create_date, document_field.update_date AS document_field_update_date 
FROM document_field 
WHERE document_field.name = %(name_1)s 
 LIMIT %(param_1)s
2021-05-10 04:20:22,407 - INFO - [generated in 0.00024s] {'name_1': 'address', 'param_1': 1}
2021-05-10 04:20:22,410 - INFO - SELECT document_type.id AS document_type_id, document_type.name AS document_type_name, document_type.description AS document_type_description, document_type.create_date AS document_type_create_date, document_type.update_date AS document_type_update_date 
FROM document_type 
WHERE document_type.id = %(id_1)s 
 LIMIT %(param_1)s
2021-05-10 04:20:22,410 - INFO - [generated in 0.00025s] {'id_1': 1, 'param_1': 1}
2021-05-10 04:20:22,479 - INFO - INSERT INTO document_process (name, value, is_extracted, url, create_date, update_date, type_id, document_id, field_id) VALUES (%(name)s, %(value)s, %(is_extracted)s, %(url)s, %(create_date)s, %(update_date)s, %(type_id)s, %(document_id)s, %(field_id)s) RETURNING document_process.id
2021-05-10 04:20:22,479 - INFO - [generated in 0.00031s] {'name': 'address', 'value': None, 'is_extracted': False, 'url': 'http://161.117.87.31:8081/api/v1/ftp/image/identity-card/export/2021-05-09/2021-05-08 04:16:55.214456_address.png', 'create_date': datetime.datetime(2021, 5, 9, 20, 20, 22, 475588), 'update_date': None, 'type_id': 1, 'document_id': 6, 'field_id': 5}
2021-05-10 04:20:22,481 - INFO - COMMIT
2021-05-10 04:20:22,483 - INFO - BEGIN (implicit)
2021-05-10 04:20:22,485 - INFO - SELECT document_process.id, document_process.name, document_process.value, document_process.is_extracted, document_process.url, document_process.create_date, document_process.update_date, document_process.type_id, document_process.document_id, document_process.field_id 
FROM document_process 
WHERE document_process.id = %(pk_1)s
2021-05-10 04:20:22,485 - INFO - [generated in 0.00022s] {'pk_1': 7}
2021-05-10 04:20:22,488 - INFO - ROLLBACK
2021-05-10 04:28:05,506 - INFO - Shutting down
2021-05-10 04:28:05,606 - INFO - Waiting for application shutdown.
2021-05-10 04:28:05,607 - INFO - Application shutdown complete.
2021-05-10 04:28:05,607 - INFO - Finished server process [19889]
2021-05-10 04:28:37,305 - INFO - Started server process [19939]
2021-05-10 04:28:37,305 - INFO - Waiting for application startup.
2021-05-10 04:28:37,305 - INFO - Application startup complete.
2021-05-10 04:28:37,306 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-05-10 04:28:40,438 - INFO - BEGIN (implicit)
2021-05-10 04:28:40,441 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/opt/jupyter/lib/python3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 48, in db_session_middleware
    response = await call_next(request)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/opt/jupyter/lib/python3.8/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/opt/jupyter/lib/python3.8/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/opt/anaconda3/lib/python3.8/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pot/project/web-service/backend/app/api/resources/ftp_v1.py", line 72, in upload_image_ftp_field
    doc = document_logic.get_by_id_join_type_join_status(db_session, document_id)
  File "/home/pot/project/web-service/backend/app/databases/repository_logic/document_logic.py", line 36, in get_by_id_join_type_join_status
    return db_session.query(Document) \
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 2750, in first
    return self.limit(1)._iter().first()
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 2834, in _iter
    result = self.session.execute(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1675, in execute
    result = conn._execute_20(statement, params or {}, execution_options)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1578, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 320, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1439, in _execute_clauseelement
    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 542, in _compile_w_cache
    compiled_sql = self._compiler(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 577, in _compiler
    return dialect.statement_compiler(dialect, self, **kw)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/compiler.py", line 766, in __init__
    Compiled.__init__(self, dialect, statement, **kwargs)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/compiler.py", line 455, in __init__
    self.string = self.process(self.statement, **compile_kwargs)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/compiler.py", line 490, in process
    return obj._compiler_dispatch(self, **kwargs)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/visitors.py", line 81, in _compiler_dispatch
    return meth(self, **kw)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/compiler.py", line 3019, in visit_select
    compile_state = select_stmt._compile_state_factory(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/base.py", line 502, in create_for_statement
    return klass.create_for_statement(statement, compiler, **kw)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/context.py", line 579, in create_for_statement
    opt.process_compile_state(self)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/strategy_options.py", line 185, in process_compile_state
    self._process(compile_state, not bool(compile_state.current_path))
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/strategy_options.py", line 711, in _process
    val._bind_loader(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/strategy_options.py", line 895, in _bind_loader
    if not loader._generate_path(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/strategy_options.py", line 257, in _generate_path
    util.raise_(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 211, in raise_
    raise exception
sqlalchemy.exc.ArgumentError: Can't find property named "document_type" on mapped class Document->document in this Query.
2021-05-10 04:29:38,873 - INFO - Shutting down
2021-05-10 04:29:38,973 - INFO - Waiting for application shutdown.
2021-05-10 04:29:38,974 - INFO - Application shutdown complete.
2021-05-10 04:29:38,974 - INFO - Finished server process [19939]
2021-05-10 04:29:39,667 - INFO - Started server process [19951]
2021-05-10 04:29:39,667 - INFO - Waiting for application startup.
2021-05-10 04:29:39,667 - INFO - Application startup complete.
2021-05-10 04:29:39,668 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-05-10 04:29:41,698 - INFO - BEGIN (implicit)
2021-05-10 04:29:41,700 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/opt/jupyter/lib/python3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 48, in db_session_middleware
    response = await call_next(request)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/opt/jupyter/lib/python3.8/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/opt/jupyter/lib/python3.8/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/opt/anaconda3/lib/python3.8/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pot/project/web-service/backend/app/api/resources/ftp_v1.py", line 72, in upload_image_ftp_field
    doc = document_logic.get_by_id_join_type_join_status(db_session, document_id)
  File "/home/pot/project/web-service/backend/app/databases/repository_logic/document_logic.py", line 36, in get_by_id_join_type_join_status
    return db_session.query(Document) \
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 2750, in first
    return self.limit(1)._iter().first()
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 2834, in _iter
    result = self.session.execute(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1675, in execute
    result = conn._execute_20(statement, params or {}, execution_options)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1578, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 320, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1439, in _execute_clauseelement
    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 542, in _compile_w_cache
    compiled_sql = self._compiler(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 577, in _compiler
    return dialect.statement_compiler(dialect, self, **kw)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/compiler.py", line 766, in __init__
    Compiled.__init__(self, dialect, statement, **kwargs)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/compiler.py", line 455, in __init__
    self.string = self.process(self.statement, **compile_kwargs)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/compiler.py", line 490, in process
    return obj._compiler_dispatch(self, **kwargs)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/visitors.py", line 81, in _compiler_dispatch
    return meth(self, **kw)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/compiler.py", line 3019, in visit_select
    compile_state = select_stmt._compile_state_factory(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/base.py", line 502, in create_for_statement
    return klass.create_for_statement(statement, compiler, **kw)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/context.py", line 579, in create_for_statement
    opt.process_compile_state(self)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/strategy_options.py", line 185, in process_compile_state
    self._process(compile_state, not bool(compile_state.current_path))
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/strategy_options.py", line 711, in _process
    val._bind_loader(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/strategy_options.py", line 895, in _bind_loader
    if not loader._generate_path(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/strategy_options.py", line 257, in _generate_path
    util.raise_(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 211, in raise_
    raise exception
sqlalchemy.exc.ArgumentError: Can't find property named "document_type" on mapped class Document->document in this Query.
2021-05-10 04:32:50,396 - INFO - Shutting down
2021-05-10 04:32:50,497 - INFO - Waiting for application shutdown.
2021-05-10 04:32:50,497 - INFO - Application shutdown complete.
2021-05-10 04:32:50,497 - INFO - Finished server process [19951]
2021-05-10 04:32:51,097 - INFO - Started server process [19976]
2021-05-10 04:32:51,097 - INFO - Waiting for application startup.
2021-05-10 04:32:51,098 - INFO - Application startup complete.
2021-05-10 04:32:51,098 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-05-10 04:32:53,477 - INFO - BEGIN (implicit)
2021-05-10 04:32:53,480 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/opt/jupyter/lib/python3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 48, in db_session_middleware
    response = await call_next(request)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/opt/jupyter/lib/python3.8/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/opt/jupyter/lib/python3.8/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/opt/anaconda3/lib/python3.8/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pot/project/web-service/backend/app/api/resources/ftp_v1.py", line 72, in upload_image_ftp_field
    doc = document_logic.get_by_id_join_type_join_status(db_session, document_id)
  File "/home/pot/project/web-service/backend/app/databases/repository_logic/document_logic.py", line 36, in get_by_id_join_type_join_status
    return db_session.query(Document) \
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 2750, in first
    return self.limit(1)._iter().first()
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 2834, in _iter
    result = self.session.execute(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1675, in execute
    result = conn._execute_20(statement, params or {}, execution_options)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1578, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 320, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1439, in _execute_clauseelement
    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 542, in _compile_w_cache
    compiled_sql = self._compiler(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 577, in _compiler
    return dialect.statement_compiler(dialect, self, **kw)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/compiler.py", line 766, in __init__
    Compiled.__init__(self, dialect, statement, **kwargs)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/compiler.py", line 455, in __init__
    self.string = self.process(self.statement, **compile_kwargs)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/compiler.py", line 490, in process
    return obj._compiler_dispatch(self, **kwargs)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/visitors.py", line 81, in _compiler_dispatch
    return meth(self, **kw)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/compiler.py", line 3019, in visit_select
    compile_state = select_stmt._compile_state_factory(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/base.py", line 502, in create_for_statement
    return klass.create_for_statement(statement, compiler, **kw)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/context.py", line 579, in create_for_statement
    opt.process_compile_state(self)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/strategy_options.py", line 185, in process_compile_state
    self._process(compile_state, not bool(compile_state.current_path))
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/strategy_options.py", line 711, in _process
    val._bind_loader(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/strategy_options.py", line 895, in _bind_loader
    if not loader._generate_path(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/strategy_options.py", line 257, in _generate_path
    util.raise_(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 211, in raise_
    raise exception
sqlalchemy.exc.ArgumentError: Can't find property named "document_type" on mapped class Document->document in this Query.
2021-05-10 04:33:05,160 - INFO - Shutting down
2021-05-10 04:33:05,261 - INFO - Waiting for application shutdown.
2021-05-10 04:33:05,262 - INFO - Application shutdown complete.
2021-05-10 04:33:05,262 - INFO - Finished server process [19976]
2021-05-10 04:33:05,930 - INFO - Started server process [19988]
2021-05-10 04:33:05,930 - INFO - Waiting for application startup.
2021-05-10 04:33:05,930 - INFO - Application startup complete.
2021-05-10 04:33:05,931 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-05-10 04:34:28,616 - INFO - Shutting down
2021-05-10 04:34:28,717 - INFO - Waiting for application shutdown.
2021-05-10 04:34:28,717 - INFO - Application shutdown complete.
2021-05-10 04:34:28,717 - INFO - Finished server process [19988]
2021-05-10 04:34:29,316 - INFO - Started server process [20000]
2021-05-10 04:34:29,316 - INFO - Waiting for application startup.
2021-05-10 04:34:29,316 - INFO - Application startup complete.
2021-05-10 04:34:29,317 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-05-10 04:34:56,465 - INFO - Shutting down
2021-05-10 04:34:56,566 - INFO - Waiting for application shutdown.
2021-05-10 04:34:56,567 - INFO - Application shutdown complete.
2021-05-10 04:34:56,567 - INFO - Finished server process [20000]
2021-05-10 04:36:27,958 - INFO - Started server process [20032]
2021-05-10 04:36:27,959 - INFO - Waiting for application startup.
2021-05-10 04:36:27,959 - INFO - Application startup complete.
2021-05-10 04:36:27,959 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-05-10 04:36:29,674 - INFO - BEGIN (implicit)
2021-05-10 04:36:29,677 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/opt/jupyter/lib/python3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 48, in db_session_middleware
    response = await call_next(request)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/opt/jupyter/lib/python3.8/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/opt/jupyter/lib/python3.8/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/opt/anaconda3/lib/python3.8/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pot/project/web-service/backend/app/api/resources/ftp_v1.py", line 72, in upload_image_ftp_field
    doc = document_logic.get_by_id_join_type_join_status(db_session, document_id)
  File "/home/pot/project/web-service/backend/app/databases/repository_logic/document_logic.py", line 36, in get_by_id_join_type_join_status
    return db_session.query(Document) \
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 2750, in first
    return self.limit(1)._iter().first()
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 2834, in _iter
    result = self.session.execute(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1675, in execute
    result = conn._execute_20(statement, params or {}, execution_options)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1578, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 320, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1439, in _execute_clauseelement
    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 542, in _compile_w_cache
    compiled_sql = self._compiler(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 577, in _compiler
    return dialect.statement_compiler(dialect, self, **kw)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/compiler.py", line 766, in __init__
    Compiled.__init__(self, dialect, statement, **kwargs)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/compiler.py", line 455, in __init__
    self.string = self.process(self.statement, **compile_kwargs)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/compiler.py", line 490, in process
    return obj._compiler_dispatch(self, **kwargs)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/visitors.py", line 81, in _compiler_dispatch
    return meth(self, **kw)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/compiler.py", line 3019, in visit_select
    compile_state = select_stmt._compile_state_factory(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/base.py", line 502, in create_for_statement
    return klass.create_for_statement(statement, compiler, **kw)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/context.py", line 579, in create_for_statement
    opt.process_compile_state(self)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/strategy_options.py", line 185, in process_compile_state
    self._process(compile_state, not bool(compile_state.current_path))
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/strategy_options.py", line 711, in _process
    val._bind_loader(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/strategy_options.py", line 895, in _bind_loader
    if not loader._generate_path(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/strategy_options.py", line 257, in _generate_path
    util.raise_(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 211, in raise_
    raise exception
sqlalchemy.exc.ArgumentError: Can't find property named "document_type" on mapped class Document->document in this Query.
2021-05-10 04:37:33,333 - INFO - Shutting down
2021-05-10 04:37:33,433 - INFO - Waiting for application shutdown.
2021-05-10 04:37:33,434 - INFO - Application shutdown complete.
2021-05-10 04:37:33,434 - INFO - Finished server process [20032]
2021-05-10 04:37:34,090 - INFO - Started server process [20052]
2021-05-10 04:37:34,090 - INFO - Waiting for application startup.
2021-05-10 04:37:34,090 - INFO - Application startup complete.
2021-05-10 04:37:34,091 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-05-10 04:37:35,293 - INFO - BEGIN (implicit)
2021-05-10 04:37:35,296 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/opt/jupyter/lib/python3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 48, in db_session_middleware
    response = await call_next(request)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/opt/jupyter/lib/python3.8/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/opt/jupyter/lib/python3.8/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/opt/anaconda3/lib/python3.8/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pot/project/web-service/backend/app/api/resources/ftp_v1.py", line 72, in upload_image_ftp_field
    doc = document_logic.get_by_id_join_type_join_status(db_session, document_id)
  File "/home/pot/project/web-service/backend/app/databases/repository_logic/document_logic.py", line 36, in get_by_id_join_type_join_status
    return db_session.query(Document) \
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 2750, in first
    return self.limit(1)._iter().first()
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 2834, in _iter
    result = self.session.execute(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1675, in execute
    result = conn._execute_20(statement, params or {}, execution_options)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1578, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 320, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1439, in _execute_clauseelement
    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 542, in _compile_w_cache
    compiled_sql = self._compiler(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 577, in _compiler
    return dialect.statement_compiler(dialect, self, **kw)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/compiler.py", line 766, in __init__
    Compiled.__init__(self, dialect, statement, **kwargs)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/compiler.py", line 455, in __init__
    self.string = self.process(self.statement, **compile_kwargs)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/compiler.py", line 490, in process
    return obj._compiler_dispatch(self, **kwargs)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/visitors.py", line 81, in _compiler_dispatch
    return meth(self, **kw)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/compiler.py", line 3019, in visit_select
    compile_state = select_stmt._compile_state_factory(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/base.py", line 502, in create_for_statement
    return klass.create_for_statement(statement, compiler, **kw)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/context.py", line 579, in create_for_statement
    opt.process_compile_state(self)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/strategy_options.py", line 185, in process_compile_state
    self._process(compile_state, not bool(compile_state.current_path))
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/strategy_options.py", line 711, in _process
    val._bind_loader(
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/strategy_options.py", line 869, in _bind_loader
    raise sa_exc.ArgumentError(
sqlalchemy.exc.ArgumentError: mapper option expects string key or list of attributes
2021-05-10 04:38:09,231 - INFO - Shutting down
2021-05-10 04:38:09,331 - INFO - Waiting for application shutdown.
2021-05-10 04:38:09,332 - INFO - Application shutdown complete.
2021-05-10 04:38:09,332 - INFO - Finished server process [20052]
2021-05-10 04:38:09,970 - INFO - Started server process [20066]
2021-05-10 04:38:09,970 - INFO - Waiting for application startup.
2021-05-10 04:38:09,970 - INFO - Application startup complete.
2021-05-10 04:38:09,971 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-05-10 04:38:13,932 - INFO - BEGIN (implicit)
2021-05-10 04:38:13,938 - INFO - SELECT document.id AS document_id, document.name AS document_name, document.url AS document_url, document.crop_url AS document_crop_url, document.export_date AS document_export_date, document.create_date AS document_create_date, document.update_date AS document_update_date, document.type_id AS document_type_id, document.status_id AS document_status_id, document_type_1.id AS document_type_1_id, document_type_1.name AS document_type_1_name, document_type_1.description AS document_type_1_description, document_type_1.create_date AS document_type_1_create_date, document_type_1.update_date AS document_type_1_update_date, status_1.id AS status_1_id, status_1.status_code AS status_1_status_code, status_1.status_name AS status_1_status_name, status_1.description AS status_1_description, status_1.create_date AS status_1_create_date, status_1.update_date AS status_1_update_date 
FROM document LEFT OUTER JOIN document_type AS document_type_1 ON document_type_1.id = document.type_id LEFT OUTER JOIN status AS status_1 ON status_1.id = document.status_id 
WHERE document.id = %(id_1)s 
 LIMIT %(param_1)s
2021-05-10 04:38:13,938 - INFO - [generated in 0.00031s] {'id_1': 6, 'param_1': 1}
2021-05-10 04:38:13,943 - INFO - ROLLBACK
2021-05-10 04:41:49,101 - INFO - Shutting down
2021-05-10 04:41:49,201 - INFO - Waiting for application shutdown.
2021-05-10 04:41:49,202 - INFO - Application shutdown complete.
2021-05-10 04:41:49,202 - INFO - Finished server process [20066]
2021-05-10 04:41:49,788 - INFO - Started server process [20079]
2021-05-10 04:41:49,789 - INFO - Waiting for application startup.
2021-05-10 04:41:49,789 - INFO - Application startup complete.
2021-05-10 04:41:49,789 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-05-10 04:41:51,313 - INFO - BEGIN (implicit)
2021-05-10 04:41:51,318 - INFO - SELECT document.id AS document_id, document.name AS document_name, document.url AS document_url, document.crop_url AS document_crop_url, document.export_date AS document_export_date, document.create_date AS document_create_date, document.update_date AS document_update_date, document.type_id AS document_type_id, document.status_id AS document_status_id, document_type_1.id AS document_type_1_id, document_type_1.name AS document_type_1_name, document_type_1.description AS document_type_1_description, document_type_1.create_date AS document_type_1_create_date, document_type_1.update_date AS document_type_1_update_date, status_1.id AS status_1_id, status_1.status_code AS status_1_status_code, status_1.status_name AS status_1_status_name, status_1.description AS status_1_description, status_1.create_date AS status_1_create_date, status_1.update_date AS status_1_update_date 
FROM document LEFT OUTER JOIN document_type AS document_type_1 ON document_type_1.id = document.type_id LEFT OUTER JOIN status AS status_1 ON status_1.id = document.status_id 
WHERE document.id = %(id_1)s 
 LIMIT %(param_1)s
2021-05-10 04:41:51,318 - INFO - [generated in 0.00031s] {'id_1': 6, 'param_1': 1}
2021-05-10 04:41:51,322 - INFO - SELECT document_field.id AS document_field_id, document_field.type_id AS document_field_type_id, document_field.name AS document_field_name, document_field.description AS document_field_description, document_field.is_performance AS document_field_is_performance, document_field.create_date AS document_field_create_date, document_field.update_date AS document_field_update_date 
FROM document_field 
WHERE document_field.name = %(name_1)s 
 LIMIT %(param_1)s
2021-05-10 04:41:51,323 - INFO - [generated in 0.00029s] {'name_1': 'address', 'param_1': 1}
2021-05-10 04:41:51,395 - INFO - INSERT INTO document_process (name, value, is_extracted, url, create_date, update_date, type_id, document_id, field_id) VALUES (%(name)s, %(value)s, %(is_extracted)s, %(url)s, %(create_date)s, %(update_date)s, %(type_id)s, %(document_id)s, %(field_id)s) RETURNING document_process.id
2021-05-10 04:41:51,395 - INFO - [generated in 0.00046s] {'name': 'address', 'value': None, 'is_extracted': False, 'url': 'http://161.117.87.31:8081/api/v1/ftp/image/identity-card/export/2021-05-09/2021-05-08 04:16:55.214456_address.png', 'create_date': datetime.datetime(2021, 5, 9, 20, 41, 51, 392193), 'update_date': None, 'type_id': 1, 'document_id': 6, 'field_id': 5}
2021-05-10 04:41:51,397 - INFO - COMMIT
2021-05-10 04:41:51,400 - INFO - BEGIN (implicit)
2021-05-10 04:41:51,402 - INFO - SELECT document_process.id, document_process.name, document_process.value, document_process.is_extracted, document_process.url, document_process.create_date, document_process.update_date, document_process.type_id, document_process.document_id, document_process.field_id 
FROM document_process 
WHERE document_process.id = %(pk_1)s
2021-05-10 04:41:51,402 - INFO - [generated in 0.00028s] {'pk_1': 8}
2021-05-10 04:41:51,405 - INFO - ROLLBACK
2021-05-10 04:48:48,020 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/opt/jupyter/lib/python3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 48, in db_session_middleware
    response = await call_next(request)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/opt/jupyter/lib/python3.8/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/opt/jupyter/lib/python3.8/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/opt/anaconda3/lib/python3.8/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pot/project/web-service/backend/app/api/resources/ftp_v1.py", line 116, in upload_image_ftp_crop
    if len(byte_image) > config.IMAGE_MAX_SIZE: raise HTTPException(status_code=400, detail="wrong size image")
NameError: name 'type_id' is not defined
2021-05-10 04:49:14,281 - INFO - Shutting down
2021-05-10 04:49:14,381 - INFO - Waiting for application shutdown.
2021-05-10 04:49:14,382 - INFO - Application shutdown complete.
2021-05-10 04:49:14,382 - INFO - Finished server process [20079]
2021-05-10 04:49:14,970 - INFO - Started server process [20122]
2021-05-10 04:49:14,970 - INFO - Waiting for application startup.
2021-05-10 04:49:14,970 - INFO - Application startup complete.
2021-05-10 04:49:14,971 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-05-10 04:49:16,519 - INFO - BEGIN (implicit)
2021-05-10 04:49:16,523 - INFO - SELECT document.id AS document_id, document.name AS document_name, document.url AS document_url, document.crop_url AS document_crop_url, document.export_date AS document_export_date, document.create_date AS document_create_date, document.update_date AS document_update_date, document.type_id AS document_type_id, document.status_id AS document_status_id 
FROM document 
WHERE document.id = %(id_1)s 
 LIMIT %(param_1)s
2021-05-10 04:49:16,523 - INFO - [generated in 0.00035s] {'id_1': 6, 'param_1': 1}
2021-05-10 04:49:16,526 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/opt/jupyter/lib/python3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 48, in db_session_middleware
    response = await call_next(request)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/opt/jupyter/lib/python3.8/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/opt/jupyter/lib/python3.8/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/opt/anaconda3/lib/python3.8/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pot/project/web-service/backend/app/api/resources/ftp_v1.py", line 122, in upload_image_ftp_crop
    type_doc = type_query.name
NameError: name 'type_query' is not defined
2021-05-10 04:50:14,016 - INFO - Shutting down
2021-05-10 04:50:14,126 - INFO - Waiting for application shutdown.
2021-05-10 04:50:14,127 - INFO - Application shutdown complete.
2021-05-10 04:50:14,127 - INFO - Finished server process [20122]
2021-05-10 04:50:14,715 - INFO - Started server process [20135]
2021-05-10 04:50:14,716 - INFO - Waiting for application startup.
2021-05-10 04:50:14,716 - INFO - Application startup complete.
2021-05-10 04:50:14,716 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-05-10 04:50:16,526 - INFO - BEGIN (implicit)
2021-05-10 04:50:16,532 - INFO - SELECT document.id AS document_id, document.name AS document_name, document.url AS document_url, document.crop_url AS document_crop_url, document.export_date AS document_export_date, document.create_date AS document_create_date, document.update_date AS document_update_date, document.type_id AS document_type_id, document.status_id AS document_status_id, document_type_1.id AS document_type_1_id, document_type_1.name AS document_type_1_name, document_type_1.description AS document_type_1_description, document_type_1.create_date AS document_type_1_create_date, document_type_1.update_date AS document_type_1_update_date, status_1.id AS status_1_id, status_1.status_code AS status_1_status_code, status_1.status_name AS status_1_status_name, status_1.description AS status_1_description, status_1.create_date AS status_1_create_date, status_1.update_date AS status_1_update_date 
FROM document LEFT OUTER JOIN document_type AS document_type_1 ON document_type_1.id = document.type_id LEFT OUTER JOIN status AS status_1 ON status_1.id = document.status_id 
WHERE document.id = %(id_1)s 
 LIMIT %(param_1)s
2021-05-10 04:50:16,533 - INFO - [generated in 0.00035s] {'id_1': 6, 'param_1': 1}
2021-05-10 04:50:16,607 - INFO - UPDATE document SET crop_url=%(crop_url)s WHERE document.id = %(id_1)s
2021-05-10 04:50:16,607 - INFO - [generated in 0.00036s] {'crop_url': 'http://161.117.87.31:8081/api/v1/ftp/image/identity-card/export/2021-05-09/2021-05-08 04:16:55.214456_crop_image.png', 'id_1': 6}
2021-05-10 04:50:16,609 - INFO - COMMIT
2021-05-10 04:50:44,550 - INFO - BEGIN (implicit)
2021-05-10 04:50:44,551 - INFO - SELECT document.id AS document_id, document.name AS document_name, document.url AS document_url, document.crop_url AS document_crop_url, document.export_date AS document_export_date, document.create_date AS document_create_date, document.update_date AS document_update_date, document.type_id AS document_type_id, document.status_id AS document_status_id, document_type_1.id AS document_type_1_id, document_type_1.name AS document_type_1_name, document_type_1.description AS document_type_1_description, document_type_1.create_date AS document_type_1_create_date, document_type_1.update_date AS document_type_1_update_date, status_1.id AS status_1_id, status_1.status_code AS status_1_status_code, status_1.status_name AS status_1_status_name, status_1.description AS status_1_description, status_1.create_date AS status_1_create_date, status_1.update_date AS status_1_update_date 
FROM document LEFT OUTER JOIN document_type AS document_type_1 ON document_type_1.id = document.type_id LEFT OUTER JOIN status AS status_1 ON status_1.id = document.status_id 
WHERE document.id = %(id_1)s 
 LIMIT %(param_1)s
2021-05-10 04:50:44,551 - INFO - [cached since 28.02s ago] {'id_1': 6, 'param_1': 1}
2021-05-10 04:50:44,621 - INFO - UPDATE document SET crop_url=%(crop_url)s WHERE document.id = %(id_1)s
2021-05-10 04:50:44,621 - INFO - [cached since 28.01s ago] {'crop_url': 'http://161.117.87.31:8081/api/v1/ftp/image/identity-card/export/2021-05-09/2021-05-08 04:16:55.214456_crop_image.png', 'id_1': 6}
2021-05-10 04:50:44,622 - INFO - COMMIT
2021-05-10 04:52:53,349 - INFO - Shutting down
2021-05-10 04:52:53,450 - INFO - Waiting for application shutdown.
2021-05-10 04:52:53,450 - INFO - Application shutdown complete.
2021-05-10 04:52:53,451 - INFO - Finished server process [20135]
2021-05-10 04:52:54,022 - INFO - Started server process [20162]
2021-05-10 04:52:54,022 - INFO - Waiting for application startup.
2021-05-10 04:52:54,022 - INFO - Application startup complete.
2021-05-10 04:52:54,023 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-05-10 04:53:37,291 - INFO - BEGIN (implicit)
2021-05-10 04:53:37,293 - INFO - SELECT document_type.id AS document_type_id, document_type.name AS document_type_name, document_type.description AS document_type_description, document_type.create_date AS document_type_create_date, document_type.update_date AS document_type_update_date 
FROM document_type 
WHERE document_type.name = %(name_1)s 
 LIMIT %(param_1)s
2021-05-10 04:53:37,293 - INFO - [generated in 0.00027s] {'name_1': 'identity-card', 'param_1': 1}
2021-05-10 04:53:37,297 - INFO - SELECT status.id AS status_id, status.status_code AS status_status_code, status.status_name AS status_status_name, status.description AS status_description, status.create_date AS status_create_date, status.update_date AS status_update_date 
FROM status 
WHERE status.status_code = %(status_code_1)s 
 LIMIT %(param_1)s
2021-05-10 04:53:37,297 - INFO - [generated in 0.00029s] {'status_code_1': 200, 'param_1': 1}
2021-05-10 04:53:37,307 - INFO - SELECT anon_1.document_id AS anon_1_document_id, anon_1.document_name AS anon_1_document_name, anon_1.document_url AS anon_1_document_url, anon_1.document_crop_url AS anon_1_document_crop_url, anon_1.document_export_date AS anon_1_document_export_date, anon_1.document_create_date AS anon_1_document_create_date, anon_1.document_update_date AS anon_1_document_update_date, anon_1.document_type_id AS anon_1_document_type_id, anon_1.document_status_id AS anon_1_document_status_id, document_process_1.id AS document_process_1_id, document_process_1.name AS document_process_1_name, document_process_1.value AS document_process_1_value, document_process_1.is_extracted AS document_process_1_is_extracted, document_process_1.url AS document_process_1_url, document_process_1.create_date AS document_process_1_create_date, document_process_1.update_date AS document_process_1_update_date, document_process_1.type_id AS document_process_1_type_id, document_process_1.document_id AS document_process_1_document_id, document_process_1.field_id AS document_process_1_field_id 
FROM (SELECT document.id AS document_id, document.name AS document_name, document.url AS document_url, document.crop_url AS document_crop_url, document.export_date AS document_export_date, document.create_date AS document_create_date, document.update_date AS document_update_date, document.type_id AS document_type_id, document.status_id AS document_status_id 
FROM document 
WHERE document.type_id = %(type_id_1)s AND document.status_id = %(status_id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN document_process AS document_process_1 ON anon_1.document_id = document_process_1.document_id
2021-05-10 04:53:37,307 - INFO - [generated in 0.00038s] {'type_id_1': 1, 'status_id_1': 2, 'param_1': 1}
2021-05-10 04:53:37,311 - INFO - ROLLBACK
2021-05-10 04:55:47,692 - INFO - BEGIN (implicit)
2021-05-10 04:55:47,692 - INFO - SELECT document_type.id AS document_type_id, document_type.name AS document_type_name, document_type.description AS document_type_description, document_type.create_date AS document_type_create_date, document_type.update_date AS document_type_update_date 
FROM document_type 
WHERE document_type.name = %(name_1)s 
 LIMIT %(param_1)s
2021-05-10 04:55:47,693 - INFO - [cached since 130.4s ago] {'name_1': 'identity-card', 'param_1': 1}
2021-05-10 04:55:47,694 - INFO - SELECT status.id AS status_id, status.status_code AS status_status_code, status.status_name AS status_status_name, status.description AS status_description, status.create_date AS status_create_date, status.update_date AS status_update_date 
FROM status 
WHERE status.status_code = %(status_code_1)s 
 LIMIT %(param_1)s
2021-05-10 04:55:47,694 - INFO - [cached since 130.4s ago] {'status_code_1': 200, 'param_1': 1}
2021-05-10 04:55:47,696 - INFO - SELECT anon_1.document_id AS anon_1_document_id, anon_1.document_name AS anon_1_document_name, anon_1.document_url AS anon_1_document_url, anon_1.document_crop_url AS anon_1_document_crop_url, anon_1.document_export_date AS anon_1_document_export_date, anon_1.document_create_date AS anon_1_document_create_date, anon_1.document_update_date AS anon_1_document_update_date, anon_1.document_type_id AS anon_1_document_type_id, anon_1.document_status_id AS anon_1_document_status_id, document_process_1.id AS document_process_1_id, document_process_1.name AS document_process_1_name, document_process_1.value AS document_process_1_value, document_process_1.is_extracted AS document_process_1_is_extracted, document_process_1.url AS document_process_1_url, document_process_1.create_date AS document_process_1_create_date, document_process_1.update_date AS document_process_1_update_date, document_process_1.type_id AS document_process_1_type_id, document_process_1.document_id AS document_process_1_document_id, document_process_1.field_id AS document_process_1_field_id 
FROM (SELECT document.id AS document_id, document.name AS document_name, document.url AS document_url, document.crop_url AS document_crop_url, document.export_date AS document_export_date, document.create_date AS document_create_date, document.update_date AS document_update_date, document.type_id AS document_type_id, document.status_id AS document_status_id 
FROM document 
WHERE document.type_id = %(type_id_1)s AND document.status_id = %(status_id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN document_process AS document_process_1 ON anon_1.document_id = document_process_1.document_id
2021-05-10 04:55:47,696 - INFO - [cached since 130.4s ago] {'type_id_1': 1, 'status_id_1': 2, 'param_1': 1}
2021-05-10 04:55:47,699 - INFO - ROLLBACK
2021-05-10 04:58:52,963 - INFO - Shutting down
2021-05-10 04:58:53,064 - INFO - Waiting for application shutdown.
2021-05-10 04:58:53,064 - INFO - Application shutdown complete.
2021-05-10 04:58:53,064 - INFO - Finished server process [20162]
2021-05-10 04:58:53,787 - INFO - Started server process [20187]
2021-05-10 04:58:53,787 - INFO - Waiting for application startup.
2021-05-10 04:58:53,787 - INFO - Application startup complete.
2021-05-10 04:58:53,788 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-05-10 04:58:56,161 - INFO - BEGIN (implicit)
2021-05-10 04:58:56,164 - INFO - SELECT document_type.id AS document_type_id, document_type.name AS document_type_name, document_type.description AS document_type_description, document_type.create_date AS document_type_create_date, document_type.update_date AS document_type_update_date 
FROM document_type 
WHERE document_type.name = %(name_1)s 
 LIMIT %(param_1)s
2021-05-10 04:58:56,164 - INFO - [generated in 0.00034s] {'name_1': 'identity-card', 'param_1': 1}
2021-05-10 04:58:56,168 - INFO - SELECT status.id AS status_id, status.status_code AS status_status_code, status.status_name AS status_status_name, status.description AS status_description, status.create_date AS status_create_date, status.update_date AS status_update_date 
FROM status 
WHERE status.status_code = %(status_code_1)s 
 LIMIT %(param_1)s
2021-05-10 04:58:56,168 - INFO - [generated in 0.00026s] {'status_code_1': 200, 'param_1': 1}
2021-05-10 04:58:56,171 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/opt/jupyter/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/opt/jupyter/lib/python3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 48, in db_session_middleware
    response = await call_next(request)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/middleware/cors.py", line 78, in __call__
    await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/opt/jupyter/lib/python3.8/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/opt/jupyter/lib/python3.8/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/opt/jupyter/lib/python3.8/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/opt/anaconda3/lib/python3.8/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pot/project/web-service/backend/app/api/resources/show_v1.py", line 25, in split_last
    last_doc = document_logic.get_one_last_type_status(db_session, doc_type.id, status.id)
  File "/home/pot/project/web-service/backend/app/databases/repository_logic/document_logic.py", line 30, in get_one_last_type_status
    return db_session.query(Document) \
  File "<string>", line 2, in order_by
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/sql/base.py", line 106, in _generative
    x = fn(self, *args, **kw)
  File "<string>", line 2, in order_by
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/base.py", line 223, in generate
    assertion(self, fn.__name__)
  File "/opt/jupyter/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 307, in _no_limit_offset
    raise sa_exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: Query.order_by() being called on a Query which already has LIMIT or OFFSET applied.  Call order_by() before limit() or offset() are applied.
2021-05-10 04:59:27,319 - INFO - Shutting down
2021-05-10 04:59:27,420 - INFO - Waiting for application shutdown.
2021-05-10 04:59:27,421 - INFO - Application shutdown complete.
2021-05-10 04:59:27,421 - INFO - Finished server process [20187]
2021-05-10 04:59:28,122 - INFO - Started server process [20202]
2021-05-10 04:59:28,122 - INFO - Waiting for application startup.
2021-05-10 04:59:28,123 - INFO - Application startup complete.
2021-05-10 04:59:28,123 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-05-10 04:59:29,548 - INFO - BEGIN (implicit)
2021-05-10 04:59:29,551 - INFO - SELECT document_type.id AS document_type_id, document_type.name AS document_type_name, document_type.description AS document_type_description, document_type.create_date AS document_type_create_date, document_type.update_date AS document_type_update_date 
FROM document_type 
WHERE document_type.name = %(name_1)s 
 LIMIT %(param_1)s
2021-05-10 04:59:29,551 - INFO - [generated in 0.00034s] {'name_1': 'identity-card', 'param_1': 1}
2021-05-10 04:59:29,555 - INFO - SELECT status.id AS status_id, status.status_code AS status_status_code, status.status_name AS status_status_name, status.description AS status_description, status.create_date AS status_create_date, status.update_date AS status_update_date 
FROM status 
WHERE status.status_code = %(status_code_1)s 
 LIMIT %(param_1)s
2021-05-10 04:59:29,555 - INFO - [generated in 0.00028s] {'status_code_1': 200, 'param_1': 1}
2021-05-10 04:59:29,565 - INFO - SELECT anon_1.document_id AS anon_1_document_id, anon_1.document_name AS anon_1_document_name, anon_1.document_url AS anon_1_document_url, anon_1.document_crop_url AS anon_1_document_crop_url, anon_1.document_export_date AS anon_1_document_export_date, anon_1.document_create_date AS anon_1_document_create_date, anon_1.document_update_date AS anon_1_document_update_date, anon_1.document_type_id AS anon_1_document_type_id, anon_1.document_status_id AS anon_1_document_status_id, document_process_1.id AS document_process_1_id, document_process_1.name AS document_process_1_name, document_process_1.value AS document_process_1_value, document_process_1.is_extracted AS document_process_1_is_extracted, document_process_1.url AS document_process_1_url, document_process_1.create_date AS document_process_1_create_date, document_process_1.update_date AS document_process_1_update_date, document_process_1.type_id AS document_process_1_type_id, document_process_1.document_id AS document_process_1_document_id, document_process_1.field_id AS document_process_1_field_id 
FROM (SELECT document.id AS document_id, document.name AS document_name, document.url AS document_url, document.crop_url AS document_crop_url, document.export_date AS document_export_date, document.create_date AS document_create_date, document.update_date AS document_update_date, document.type_id AS document_type_id, document.status_id AS document_status_id 
FROM document 
WHERE document.type_id = %(type_id_1)s AND document.status_id = %(status_id_1)s ORDER BY document.update_date DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s) AS anon_1 LEFT OUTER JOIN document_process AS document_process_1 ON anon_1.document_id = document_process_1.document_id ORDER BY anon_1.document_update_date DESC
2021-05-10 04:59:29,565 - INFO - [generated in 0.00039s] {'type_id_1': 1, 'status_id_1': 2, 'param_1': 1, 'param_2': 0}
2021-05-10 04:59:29,570 - INFO - ROLLBACK
2021-05-10 05:02:53,565 - INFO - Shutting down
2021-05-10 05:02:53,666 - INFO - Waiting for application shutdown.
2021-05-10 05:02:53,666 - INFO - Application shutdown complete.
2021-05-10 05:02:53,666 - INFO - Finished server process [20202]
2021-05-10 05:02:54,345 - INFO - Started server process [20218]
2021-05-10 05:02:54,346 - INFO - Waiting for application startup.
2021-05-10 05:02:54,346 - INFO - Application startup complete.
2021-05-10 05:02:54,347 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-05-10 05:03:30,834 - INFO - BEGIN (implicit)
2021-05-10 05:03:30,837 - INFO - SELECT document_type.id AS document_type_id, document_type.name AS document_type_name, document_type.description AS document_type_description, document_type.create_date AS document_type_create_date, document_type.update_date AS document_type_update_date 
FROM document_type 
WHERE document_type.name = %(name_1)s 
 LIMIT %(param_1)s
2021-05-10 05:03:30,837 - INFO - [generated in 0.00034s] {'name_1': 'identity-card', 'param_1': 1}
2021-05-10 05:03:30,842 - INFO - SELECT status.id AS status_id, status.status_code AS status_status_code, status.status_name AS status_status_name, status.description AS status_description, status.create_date AS status_create_date, status.update_date AS status_update_date 
FROM status 
WHERE status.status_code = %(status_code_1)s 
 LIMIT %(param_1)s
2021-05-10 05:03:30,842 - INFO - [generated in 0.00035s] {'status_code_1': 200, 'param_1': 1}
2021-05-10 05:03:30,853 - INFO - SELECT anon_1.document_id AS anon_1_document_id, anon_1.document_name AS anon_1_document_name, anon_1.document_url AS anon_1_document_url, anon_1.document_crop_url AS anon_1_document_crop_url, anon_1.document_export_date AS anon_1_document_export_date, anon_1.document_create_date AS anon_1_document_create_date, anon_1.document_update_date AS anon_1_document_update_date, anon_1.document_type_id AS anon_1_document_type_id, anon_1.document_status_id AS anon_1_document_status_id, document_process_1.id AS document_process_1_id, document_process_1.name AS document_process_1_name, document_process_1.value AS document_process_1_value, document_process_1.is_extracted AS document_process_1_is_extracted, document_process_1.url AS document_process_1_url, document_process_1.create_date AS document_process_1_create_date, document_process_1.update_date AS document_process_1_update_date, document_process_1.type_id AS document_process_1_type_id, document_process_1.document_id AS document_process_1_document_id, document_process_1.field_id AS document_process_1_field_id 
FROM (SELECT document.id AS document_id, document.name AS document_name, document.url AS document_url, document.crop_url AS document_crop_url, document.export_date AS document_export_date, document.create_date AS document_create_date, document.update_date AS document_update_date, document.type_id AS document_type_id, document.status_id AS document_status_id 
FROM document 
WHERE document.type_id = %(type_id_1)s AND document.status_id = %(status_id_1)s ORDER BY document.update_date DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s) AS anon_1 LEFT OUTER JOIN document_process AS document_process_1 ON anon_1.document_id = document_process_1.document_id ORDER BY anon_1.document_update_date DESC
2021-05-10 05:03:30,853 - INFO - [generated in 0.00041s] {'type_id_1': 1, 'status_id_1': 2, 'param_1': 1, 'param_2': 0}
2021-05-10 05:03:30,859 - INFO - ROLLBACK
2021-05-10 05:03:36,630 - INFO - BEGIN (implicit)
2021-05-10 05:03:36,630 - INFO - SELECT document_type.id AS document_type_id, document_type.name AS document_type_name, document_type.description AS document_type_description, document_type.create_date AS document_type_create_date, document_type.update_date AS document_type_update_date 
FROM document_type 
WHERE document_type.name = %(name_1)s 
 LIMIT %(param_1)s
2021-05-10 05:03:36,631 - INFO - [cached since 5.793s ago] {'name_1': 'identity-card', 'param_1': 1}
2021-05-10 05:03:36,632 - INFO - SELECT status.id AS status_id, status.status_code AS status_status_code, status.status_name AS status_status_name, status.description AS status_description, status.create_date AS status_create_date, status.update_date AS status_update_date 
FROM status 
WHERE status.status_code = %(status_code_1)s 
 LIMIT %(param_1)s
2021-05-10 05:03:36,632 - INFO - [cached since 5.791s ago] {'status_code_1': 200, 'param_1': 1}
2021-05-10 05:03:36,634 - INFO - SELECT anon_1.document_id AS anon_1_document_id, anon_1.document_name AS anon_1_document_name, anon_1.document_url AS anon_1_document_url, anon_1.document_crop_url AS anon_1_document_crop_url, anon_1.document_export_date AS anon_1_document_export_date, anon_1.document_create_date AS anon_1_document_create_date, anon_1.document_update_date AS anon_1_document_update_date, anon_1.document_type_id AS anon_1_document_type_id, anon_1.document_status_id AS anon_1_document_status_id, document_process_1.id AS document_process_1_id, document_process_1.name AS document_process_1_name, document_process_1.value AS document_process_1_value, document_process_1.is_extracted AS document_process_1_is_extracted, document_process_1.url AS document_process_1_url, document_process_1.create_date AS document_process_1_create_date, document_process_1.update_date AS document_process_1_update_date, document_process_1.type_id AS document_process_1_type_id, document_process_1.document_id AS document_process_1_document_id, document_process_1.field_id AS document_process_1_field_id 
FROM (SELECT document.id AS document_id, document.name AS document_name, document.url AS document_url, document.crop_url AS document_crop_url, document.export_date AS document_export_date, document.create_date AS document_create_date, document.update_date AS document_update_date, document.type_id AS document_type_id, document.status_id AS document_status_id 
FROM document 
WHERE document.type_id = %(type_id_1)s AND document.status_id = %(status_id_1)s ORDER BY document.update_date DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s) AS anon_1 LEFT OUTER JOIN document_process AS document_process_1 ON anon_1.document_id = document_process_1.document_id ORDER BY anon_1.document_update_date DESC
2021-05-10 05:03:36,634 - INFO - [cached since 5.781s ago] {'type_id_1': 1, 'status_id_1': 2, 'param_1': 1, 'param_2': 1}
2021-05-10 05:03:36,636 - INFO - ROLLBACK
2021-05-10 05:03:41,884 - INFO - BEGIN (implicit)
2021-05-10 05:03:41,885 - INFO - SELECT document_type.id AS document_type_id, document_type.name AS document_type_name, document_type.description AS document_type_description, document_type.create_date AS document_type_create_date, document_type.update_date AS document_type_update_date 
FROM document_type 
WHERE document_type.name = %(name_1)s 
 LIMIT %(param_1)s
2021-05-10 05:03:41,885 - INFO - [cached since 11.05s ago] {'name_1': 'identity-card', 'param_1': 1}
2021-05-10 05:03:41,886 - INFO - SELECT status.id AS status_id, status.status_code AS status_status_code, status.status_name AS status_status_name, status.description AS status_description, status.create_date AS status_create_date, status.update_date AS status_update_date 
FROM status 
WHERE status.status_code = %(status_code_1)s 
 LIMIT %(param_1)s
2021-05-10 05:03:41,886 - INFO - [cached since 11.04s ago] {'status_code_1': 200, 'param_1': 1}
2021-05-10 05:03:41,888 - INFO - SELECT anon_1.document_id AS anon_1_document_id, anon_1.document_name AS anon_1_document_name, anon_1.document_url AS anon_1_document_url, anon_1.document_crop_url AS anon_1_document_crop_url, anon_1.document_export_date AS anon_1_document_export_date, anon_1.document_create_date AS anon_1_document_create_date, anon_1.document_update_date AS anon_1_document_update_date, anon_1.document_type_id AS anon_1_document_type_id, anon_1.document_status_id AS anon_1_document_status_id, document_process_1.id AS document_process_1_id, document_process_1.name AS document_process_1_name, document_process_1.value AS document_process_1_value, document_process_1.is_extracted AS document_process_1_is_extracted, document_process_1.url AS document_process_1_url, document_process_1.create_date AS document_process_1_create_date, document_process_1.update_date AS document_process_1_update_date, document_process_1.type_id AS document_process_1_type_id, document_process_1.document_id AS document_process_1_document_id, document_process_1.field_id AS document_process_1_field_id 
FROM (SELECT document.id AS document_id, document.name AS document_name, document.url AS document_url, document.crop_url AS document_crop_url, document.export_date AS document_export_date, document.create_date AS document_create_date, document.update_date AS document_update_date, document.type_id AS document_type_id, document.status_id AS document_status_id 
FROM document 
WHERE document.type_id = %(type_id_1)s AND document.status_id = %(status_id_1)s ORDER BY document.update_date DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s) AS anon_1 LEFT OUTER JOIN document_process AS document_process_1 ON anon_1.document_id = document_process_1.document_id ORDER BY anon_1.document_update_date DESC
2021-05-10 05:03:41,888 - INFO - [cached since 11.03s ago] {'type_id_1': 1, 'status_id_1': 2, 'param_1': 1, 'param_2': 0}
2021-05-10 05:03:41,890 - INFO - ROLLBACK
2021-05-10 05:08:30,758 - INFO - Shutting down
2021-05-10 05:08:30,859 - INFO - Waiting for application shutdown.
2021-05-10 05:08:30,859 - INFO - Application shutdown complete.
2021-05-10 05:08:30,860 - INFO - Finished server process [20218]
2021-05-10 05:08:31,435 - INFO - Started server process [20245]
2021-05-10 05:08:31,436 - INFO - Waiting for application startup.
2021-05-10 05:08:31,436 - INFO - Application startup complete.
2021-05-10 05:08:31,436 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-05-10 05:08:32,739 - INFO - BEGIN (implicit)
2021-05-10 05:08:32,742 - INFO - SELECT document_type.id AS document_type_id, document_type.name AS document_type_name, document_type.description AS document_type_description, document_type.create_date AS document_type_create_date, document_type.update_date AS document_type_update_date 
FROM document_type 
WHERE document_type.name = %(name_1)s 
 LIMIT %(param_1)s
2021-05-10 05:08:32,742 - INFO - [generated in 0.00026s] {'name_1': 'identity-card', 'param_1': 1}
2021-05-10 05:08:32,745 - INFO - SELECT status.id AS status_id, status.status_code AS status_status_code, status.status_name AS status_status_name, status.description AS status_description, status.create_date AS status_create_date, status.update_date AS status_update_date 
FROM status 
WHERE status.status_code = %(status_code_1)s 
 LIMIT %(param_1)s
2021-05-10 05:08:32,746 - INFO - [generated in 0.00026s] {'status_code_1': 200, 'param_1': 1}
2021-05-10 05:08:32,753 - INFO - SELECT anon_1.document_id AS anon_1_document_id, anon_1.document_name AS anon_1_document_name, anon_1.document_url AS anon_1_document_url, anon_1.document_crop_url AS anon_1_document_crop_url, anon_1.document_export_date AS anon_1_document_export_date, anon_1.document_create_date AS anon_1_document_create_date, anon_1.document_update_date AS anon_1_document_update_date, anon_1.document_type_id AS anon_1_document_type_id, anon_1.document_status_id AS anon_1_document_status_id, document_process_1.id AS document_process_1_id, document_process_1.name AS document_process_1_name, document_process_1.value AS document_process_1_value, document_process_1.is_extracted AS document_process_1_is_extracted, document_process_1.url AS document_process_1_url, document_process_1.create_date AS document_process_1_create_date, document_process_1.update_date AS document_process_1_update_date, document_process_1.type_id AS document_process_1_type_id, document_process_1.document_id AS document_process_1_document_id, document_process_1.field_id AS document_process_1_field_id 
FROM (SELECT document.id AS document_id, document.name AS document_name, document.url AS document_url, document.crop_url AS document_crop_url, document.export_date AS document_export_date, document.create_date AS document_create_date, document.update_date AS document_update_date, document.type_id AS document_type_id, document.status_id AS document_status_id 
FROM document 
WHERE document.type_id = %(type_id_1)s AND document.status_id = %(status_id_1)s ORDER BY document.update_date DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s) AS anon_1 LEFT OUTER JOIN document_process AS document_process_1 ON anon_1.document_id = document_process_1.document_id ORDER BY anon_1.document_update_date DESC
2021-05-10 05:08:32,754 - INFO - [generated in 0.00030s] {'type_id_1': 1, 'status_id_1': 2, 'param_1': 1, 'param_2': 0}
2021-05-10 05:08:32,757 - INFO - ROLLBACK
2021-05-10 05:08:48,822 - INFO - Shutting down
2021-05-10 05:08:48,923 - INFO - Waiting for application shutdown.
2021-05-10 05:08:48,923 - INFO - Application shutdown complete.
2021-05-10 05:08:48,923 - INFO - Finished server process [20245]
2021-05-10 05:08:49,495 - INFO - Started server process [20253]
2021-05-10 05:08:49,495 - INFO - Waiting for application startup.
2021-05-10 05:08:49,495 - INFO - Application startup complete.
2021-05-10 05:08:49,496 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-05-10 05:08:51,590 - INFO - BEGIN (implicit)
2021-05-10 05:08:51,593 - INFO - SELECT document_type.id AS document_type_id, document_type.name AS document_type_name, document_type.description AS document_type_description, document_type.create_date AS document_type_create_date, document_type.update_date AS document_type_update_date 
FROM document_type 
WHERE document_type.name = %(name_1)s 
 LIMIT %(param_1)s
2021-05-10 05:08:51,594 - INFO - [generated in 0.00035s] {'name_1': 'identity-card', 'param_1': 1}
2021-05-10 05:08:51,598 - INFO - SELECT status.id AS status_id, status.status_code AS status_status_code, status.status_name AS status_status_name, status.description AS status_description, status.create_date AS status_create_date, status.update_date AS status_update_date 
FROM status 
WHERE status.status_code = %(status_code_1)s 
 LIMIT %(param_1)s
2021-05-10 05:08:51,598 - INFO - [generated in 0.00034s] {'status_code_1': 200, 'param_1': 1}
2021-05-10 05:08:51,607 - INFO - SELECT anon_1.document_id AS anon_1_document_id, anon_1.document_name AS anon_1_document_name, anon_1.document_url AS anon_1_document_url, anon_1.document_crop_url AS anon_1_document_crop_url, anon_1.document_export_date AS anon_1_document_export_date, anon_1.document_create_date AS anon_1_document_create_date, anon_1.document_update_date AS anon_1_document_update_date, anon_1.document_type_id AS anon_1_document_type_id, anon_1.document_status_id AS anon_1_document_status_id, document_process_1.id AS document_process_1_id, document_process_1.name AS document_process_1_name, document_process_1.value AS document_process_1_value, document_process_1.is_extracted AS document_process_1_is_extracted, document_process_1.url AS document_process_1_url, document_process_1.create_date AS document_process_1_create_date, document_process_1.update_date AS document_process_1_update_date, document_process_1.type_id AS document_process_1_type_id, document_process_1.document_id AS document_process_1_document_id, document_process_1.field_id AS document_process_1_field_id 
FROM (SELECT document.id AS document_id, document.name AS document_name, document.url AS document_url, document.crop_url AS document_crop_url, document.export_date AS document_export_date, document.create_date AS document_create_date, document.update_date AS document_update_date, document.type_id AS document_type_id, document.status_id AS document_status_id 
FROM document 
WHERE document.type_id = %(type_id_1)s AND document.status_id = %(status_id_1)s ORDER BY document.update_date DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s) AS anon_1 LEFT OUTER JOIN document_process AS document_process_1 ON anon_1.document_id = document_process_1.document_id ORDER BY anon_1.document_update_date DESC
2021-05-10 05:08:51,607 - INFO - [generated in 0.00033s] {'type_id_1': 1, 'status_id_1': 2, 'param_1': 1, 'param_2': 0}
2021-05-10 05:08:51,612 - INFO - ROLLBACK
2021-05-10 05:09:09,466 - INFO - Shutting down
2021-05-10 05:09:09,567 - INFO - Waiting for application shutdown.
2021-05-10 05:09:09,567 - INFO - Application shutdown complete.
2021-05-10 05:09:09,567 - INFO - Finished server process [20253]
2021-05-10 05:09:10,210 - INFO - Started server process [20262]
2021-05-10 05:09:10,211 - INFO - Waiting for application startup.
2021-05-10 05:09:10,211 - INFO - Application startup complete.
2021-05-10 05:09:10,211 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-05-10 05:09:11,286 - INFO - BEGIN (implicit)
2021-05-10 05:09:11,289 - INFO - SELECT document_type.id AS document_type_id, document_type.name AS document_type_name, document_type.description AS document_type_description, document_type.create_date AS document_type_create_date, document_type.update_date AS document_type_update_date 
FROM document_type 
WHERE document_type.name = %(name_1)s 
 LIMIT %(param_1)s
2021-05-10 05:09:11,290 - INFO - [generated in 0.00035s] {'name_1': 'identity-card', 'param_1': 1}
2021-05-10 05:09:11,294 - INFO - SELECT status.id AS status_id, status.status_code AS status_status_code, status.status_name AS status_status_name, status.description AS status_description, status.create_date AS status_create_date, status.update_date AS status_update_date 
FROM status 
WHERE status.status_code = %(status_code_1)s 
 LIMIT %(param_1)s
2021-05-10 05:09:11,294 - INFO - [generated in 0.00028s] {'status_code_1': 200, 'param_1': 1}
2021-05-10 05:09:11,303 - INFO - SELECT anon_1.document_id AS anon_1_document_id, anon_1.document_name AS anon_1_document_name, anon_1.document_url AS anon_1_document_url, anon_1.document_crop_url AS anon_1_document_crop_url, anon_1.document_export_date AS anon_1_document_export_date, anon_1.document_create_date AS anon_1_document_create_date, anon_1.document_update_date AS anon_1_document_update_date, anon_1.document_type_id AS anon_1_document_type_id, anon_1.document_status_id AS anon_1_document_status_id, document_process_1.id AS document_process_1_id, document_process_1.name AS document_process_1_name, document_process_1.value AS document_process_1_value, document_process_1.is_extracted AS document_process_1_is_extracted, document_process_1.url AS document_process_1_url, document_process_1.create_date AS document_process_1_create_date, document_process_1.update_date AS document_process_1_update_date, document_process_1.type_id AS document_process_1_type_id, document_process_1.document_id AS document_process_1_document_id, document_process_1.field_id AS document_process_1_field_id 
FROM (SELECT document.id AS document_id, document.name AS document_name, document.url AS document_url, document.crop_url AS document_crop_url, document.export_date AS document_export_date, document.create_date AS document_create_date, document.update_date AS document_update_date, document.type_id AS document_type_id, document.status_id AS document_status_id 
FROM document 
WHERE document.type_id = %(type_id_1)s AND document.status_id = %(status_id_1)s ORDER BY document.update_date DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s) AS anon_1 LEFT OUTER JOIN document_process AS document_process_1 ON anon_1.document_id = document_process_1.document_id ORDER BY anon_1.document_update_date DESC
2021-05-10 05:09:11,303 - INFO - [generated in 0.00042s] {'type_id_1': 1, 'status_id_1': 2, 'param_1': 1, 'param_2': 0}
2021-05-10 05:09:11,307 - INFO - ROLLBACK
2021-05-10 05:10:54,462 - INFO - Shutting down
2021-05-10 05:10:54,563 - INFO - Waiting for application shutdown.
2021-05-10 05:10:54,564 - INFO - Application shutdown complete.
2021-05-10 05:10:54,564 - INFO - Finished server process [20262]
2021-05-10 05:10:55,278 - INFO - Started server process [20274]
2021-05-10 05:10:55,279 - INFO - Waiting for application startup.
2021-05-10 05:10:55,279 - INFO - Application startup complete.
2021-05-10 05:10:55,279 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-05-10 05:10:56,668 - INFO - BEGIN (implicit)
2021-05-10 05:10:56,670 - INFO - SELECT document_type.id AS document_type_id, document_type.name AS document_type_name, document_type.description AS document_type_description, document_type.create_date AS document_type_create_date, document_type.update_date AS document_type_update_date 
FROM document_type 
WHERE document_type.name = %(name_1)s 
 LIMIT %(param_1)s
2021-05-10 05:10:56,671 - INFO - [generated in 0.00026s] {'name_1': 'identity-card', 'param_1': 1}
2021-05-10 05:10:56,674 - INFO - SELECT status.id AS status_id, status.status_code AS status_status_code, status.status_name AS status_status_name, status.description AS status_description, status.create_date AS status_create_date, status.update_date AS status_update_date 
FROM status 
WHERE status.status_code = %(status_code_1)s 
 LIMIT %(param_1)s
2021-05-10 05:10:56,674 - INFO - [generated in 0.00027s] {'status_code_1': 200, 'param_1': 1}
2021-05-10 05:10:56,682 - INFO - SELECT anon_1.document_id AS anon_1_document_id, anon_1.document_name AS anon_1_document_name, anon_1.document_url AS anon_1_document_url, anon_1.document_crop_url AS anon_1_document_crop_url, anon_1.document_export_date AS anon_1_document_export_date, anon_1.document_create_date AS anon_1_document_create_date, anon_1.document_update_date AS anon_1_document_update_date, anon_1.document_type_id AS anon_1_document_type_id, anon_1.document_status_id AS anon_1_document_status_id, document_process_1.id AS document_process_1_id, document_process_1.name AS document_process_1_name, document_process_1.value AS document_process_1_value, document_process_1.is_extracted AS document_process_1_is_extracted, document_process_1.url AS document_process_1_url, document_process_1.create_date AS document_process_1_create_date, document_process_1.update_date AS document_process_1_update_date, document_process_1.type_id AS document_process_1_type_id, document_process_1.document_id AS document_process_1_document_id, document_process_1.field_id AS document_process_1_field_id 
FROM (SELECT document.id AS document_id, document.name AS document_name, document.url AS document_url, document.crop_url AS document_crop_url, document.export_date AS document_export_date, document.create_date AS document_create_date, document.update_date AS document_update_date, document.type_id AS document_type_id, document.status_id AS document_status_id 
FROM document 
WHERE document.type_id = %(type_id_1)s AND document.status_id = %(status_id_1)s ORDER BY document.update_date DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s) AS anon_1 LEFT OUTER JOIN document_process AS document_process_1 ON anon_1.document_id = document_process_1.document_id ORDER BY anon_1.document_update_date DESC
2021-05-10 05:10:56,683 - INFO - [generated in 0.00035s] {'type_id_1': 1, 'status_id_1': 2, 'param_1': 1, 'param_2': 0}
2021-05-10 05:10:56,686 - INFO - ROLLBACK
